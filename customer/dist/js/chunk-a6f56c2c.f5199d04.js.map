{"version":3,"sources":["webpack:///./node_modules/v-viewer/dist/index.es.js","webpack:///./node_modules/viewerjs/dist/viewer.js","webpack:///(webpack)/buildin/harmony-module.js"],"names":["freeGlobal","global","Object","freeGlobal$1","freeSelf","self","root","Function","root$1","Symbol$1","Symbol","Symbol$2","objectProto$8","prototype","hasOwnProperty$6","hasOwnProperty","nativeObjectToString$1","toString","symToStringTag$1","toStringTag","getRawTag","value","isOwn","call","tag","unmasked","e","result","objectProto$7","nativeObjectToString","objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","isObjectLike","symbolTag","isSymbol","isArray","Array","isArray$1","reWhitespace","trimmedEndIndex","string","index2","length","test","charAt","reTrimStart","baseTrim","slice","replace","isObject","type","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","identity","asyncTag","funcTag$1","genTag","proxyTag","isFunction","coreJsData","coreJsData$1","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","func","funcProto$1","funcToString$1","toSource","reRegExpChar","reIsHostCtor","funcProto","objectProto$6","funcToString","hasOwnProperty$5","reIsNative","RegExp","baseIsNative","pattern","getValue","object","key","getNative","apply","thisArg","args","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","arguments","constant","defineProperty","defineProperty$1","baseSetToString","baseSetToString$1","setToString","setToString$1","MAX_SAFE_INTEGER$1","reIsUint","isIndex","baseAssignValue","eq","objectProto$5","hasOwnProperty$4","assignValue","objValue","copyObject","source","props","customizer","isNew","newValue","nativeMax$1","Math","max","overRest","start","transform","array","otherArgs","this","baseRest","MAX_SAFE_INTEGER","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","objectProto$4","isPrototype","Ctor","constructor","proto","baseTimes","n","iteratee","argsTag$1","baseIsArguments","objectProto$3","hasOwnProperty$3","propertyIsEnumerable","isArguments","isArguments$1","stubFalse","freeExports$1","exports","nodeType","freeModule$1","module","moduleExports$1","Buffer","nativeIsBuffer","isBuffer","isBuffer$1","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeUtil$1","nodeIsTypedArray","isTypedArray","isTypedArray$1","objectProto$2","hasOwnProperty$2","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","push","overArg","arg","nativeKeys","nativeKeys$1","objectProto$1","hasOwnProperty$1","baseKeys","objectProto","assign","assign$1","now$1","FUNC_ERROR_TEXT","nativeMax","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","render","_vm","_h","$createElement","_c","_self","_t","images","staticRenderFns","normalizeComponent","scriptExports","render2","staticRenderFns2","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","__vue2_script","rebuild","Boolean","default","trigger","computed","watch","$nextTick","onChange","deep","rebuildViewer","createViewer","destroyViewer","methods","updateViewer","$viewer","update","$emit","destroy","$el","__cssModules","__component__","__vue2_injectStyles","o","component","directive","name","debug","el","observer","nextTick","imageDiff","log","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","window","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","expression","vnode","simplePathRE","__viewerUnwatch","$watch","newVal","oldVal","disconnect","destroyWatcher","console","directive2","modifiers","static","api","inline","ViewerToken","extend","style","display","class","map","attr","attrs","src","token","$mount","document","body","appendChild","$destroy","bind","removeChild","show","addEventListener","viewer","index","Vue2","defaultOptions","setDefaults","factory","ownKeys","r","t","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","iterator","_classCallCheck","instance","Constructor","_defineProperties","target","i","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","obj","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","Number","DEFAULTS","backdrop","button","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialCoverage","initialViewIndex","interval","keyboard","focus","loading","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","transition","zIndex","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","url","ready","shown","hide","hidden","view","viewed","move","moved","rotate","rotated","scale","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","isNumber","isUndefined","isPlainObject","_constructor","error","data","callback","_len","_key","REGEXP_SUFFIX","setStyle","element","styles","property","escapeHTMLEntities","hasClass","classList","contains","indexOf","addClass","elem","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","onceSupported","supported","once","listener","get","set","removeEventListener","removeListener","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","getTransforms","_ref","scaleX","scaleY","translateX","translateY","values","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","navigator","userAgent","getImageNaturalSizes","image","newImage","createElement","naturalWidth","naturalHeight","onload","width","height","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","a","b","getPointer","_ref2","endOnly","pageX","pageY","end","timeStamp","getPointersCenter","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","innerWidth","clientWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","getComputedStyle","containerData","innerHeight","viewerData","offsetWidth","offsetHeight","parentData","fulled","_this","list","items","alt","getImageURL","item","img","onLoad","onError","firstElementChild","loadImage","renderList","next","nextElementSibling","gutter","marginLeft","outerWidth","resetList","initImage","done","sizingImage","_this2","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","x","y","oldRatio","initialImageData","renderImage","_this3","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","parentNode","events","canvas","onClick","click","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","unbind","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","pointerMoved","toggle","reset","prev","preventDefault","doubleClickImageTimeout","originalEvent","load","timeout","originalImage","parentWidth","parentHeight","filled","keyCode","which","charCode","playing","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","wheelDelta","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","querySelector","activeItem","onViewed","complete","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","showTooltip","pivot","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","destroyed","delaying","initializing","onStart","others","onFocusin","parseFloat","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","offsetX","offsetY","absoluteOffsetX","p","AnotherViewer","Viewer","getUniqueID","Error","init","progress","template","custom","zoomButtons","rotateButtons","scaleButtons","size","rotates","position","insertBefore","nextSibling","originalModule","webpackPolyfill","create","children","l"],"mappings":"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","file":"js/chunk-a6f56c2c.f5199d04.js","sourcesContent":["import Viewer from \"viewerjs\";\nexport { default as Viewer } from \"viewerjs\";\nimport Vue from \"vue\";\nvar freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\nvar freeGlobal$1 = freeGlobal;\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\nvar root = freeGlobal$1 || freeSelf || Function(\"return this\")();\nvar root$1 = root;\nvar Symbol$1 = root$1.Symbol;\nvar Symbol$2 = Symbol$1;\nvar objectProto$8 = Object.prototype;\nvar hasOwnProperty$6 = objectProto$8.hasOwnProperty;\nvar nativeObjectToString$1 = objectProto$8.toString;\nvar symToStringTag$1 = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$6.call(value, symToStringTag$1), tag = value[symToStringTag$1];\n  try {\n    value[symToStringTag$1] = void 0;\n    var unmasked = true;\n  } catch (e) {\n  }\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\nvar objectProto$7 = Object.prototype;\nvar nativeObjectToString = objectProto$7.toString;\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nvar nullTag = \"[object Null]\", undefinedTag = \"[object Undefined]\";\nvar symToStringTag = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === void 0 ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nfunction isObjectLike(value) {\n  return value != null && typeof value == \"object\";\n}\nvar symbolTag = \"[object Symbol]\";\nfunction isSymbol(value) {\n  return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nvar isArray = Array.isArray;\nvar isArray$1 = isArray;\nvar reWhitespace = /\\s/;\nfunction trimmedEndIndex(string) {\n  var index2 = string.length;\n  while (index2-- && reWhitespace.test(string.charAt(index2))) {\n  }\n  return index2;\n}\nvar reTrimStart = /^\\s+/;\nfunction baseTrim(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\n}\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == \"object\" || type == \"function\");\n}\nvar NAN = 0 / 0;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nfunction toNumber(value) {\n  if (typeof value == \"number\") {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n    value = isObject(other) ? other + \"\" : other;\n  }\n  if (typeof value != \"string\") {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nfunction identity(value) {\n  return value;\n}\nvar asyncTag = \"[object AsyncFunction]\", funcTag$1 = \"[object Function]\", genTag = \"[object GeneratorFunction]\", proxyTag = \"[object Proxy]\";\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nvar coreJsData = root$1[\"__core-js_shared__\"];\nvar coreJsData$1 = coreJsData;\nvar maskSrcKey = function() {\n  var uid = /[^.]+$/.exec(coreJsData$1 && coreJsData$1.keys && coreJsData$1.keys.IE_PROTO || \"\");\n  return uid ? \"Symbol(src)_1.\" + uid : \"\";\n}();\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\nvar funcProto$1 = Function.prototype;\nvar funcToString$1 = funcProto$1.toString;\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString$1.call(func);\n    } catch (e) {\n    }\n    try {\n      return func + \"\";\n    } catch (e) {\n    }\n  }\n  return \"\";\n}\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto = Function.prototype, objectProto$6 = Object.prototype;\nvar funcToString = funcProto.toString;\nvar hasOwnProperty$5 = objectProto$6.hasOwnProperty;\nvar reIsNative = RegExp(\n  \"^\" + funcToString.call(hasOwnProperty$5).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n);\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\nfunction getValue(object, key) {\n  return object == null ? void 0 : object[key];\n}\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : void 0;\n}\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n    case 1:\n      return func.call(thisArg, args[0]);\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\nvar HOT_COUNT = 800, HOT_SPAN = 16;\nvar nativeNow = Date.now;\nfunction shortOut(func) {\n  var count = 0, lastCalled = 0;\n  return function() {\n    var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(void 0, arguments);\n  };\n}\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\nvar defineProperty = function() {\n  try {\n    var func = getNative(Object, \"defineProperty\");\n    func({}, \"\", {});\n    return func;\n  } catch (e) {\n  }\n}();\nvar defineProperty$1 = defineProperty;\nvar baseSetToString = !defineProperty$1 ? identity : function(func, string) {\n  return defineProperty$1(func, \"toString\", {\n    \"configurable\": true,\n    \"enumerable\": false,\n    \"value\": constant(string),\n    \"writable\": true\n  });\n};\nvar baseSetToString$1 = baseSetToString;\nvar setToString = shortOut(baseSetToString$1);\nvar setToString$1 = setToString;\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);\n}\nfunction baseAssignValue(object, key, value) {\n  if (key == \"__proto__\" && defineProperty$1) {\n    defineProperty$1(object, key, {\n      \"configurable\": true,\n      \"enumerable\": true,\n      \"value\": value,\n      \"writable\": true\n    });\n  } else {\n    object[key] = value;\n  }\n}\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nvar objectProto$5 = Object.prototype;\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$4.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {\n    baseAssignValue(object, key, value);\n  }\n}\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n  var index2 = -1, length = props.length;\n  while (++index2 < length) {\n    var key = props[index2];\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;\n    if (newValue === void 0) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\nvar nativeMax$1 = Math.max;\nfunction overRest(func, start, transform) {\n  start = nativeMax$1(start === void 0 ? func.length - 1 : start, 0);\n  return function() {\n    var args = arguments, index2 = -1, length = nativeMax$1(args.length - start, 0), array = Array(length);\n    while (++index2 < length) {\n      array[index2] = args[start + index2];\n    }\n    index2 = -1;\n    var otherArgs = Array(start + 1);\n    while (++index2 < start) {\n      otherArgs[index2] = args[index2];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\nfunction baseRest(func, start) {\n  return setToString$1(overRest(func, start, identity), func + \"\");\n}\nvar MAX_SAFE_INTEGER = 9007199254740991;\nfunction isLength(value) {\n  return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\nfunction isIterateeCall(value, index2, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index2;\n  if (type == \"number\" ? isArrayLike(object) && isIndex(index2, object.length) : type == \"string\" && index2 in object) {\n    return eq(object[index2], value);\n  }\n  return false;\n}\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index2 = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : void 0, guard = length > 2 ? sources[2] : void 0;\n    customizer = assigner.length > 3 && typeof customizer == \"function\" ? (length--, customizer) : void 0;\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? void 0 : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index2 < length) {\n      var source = sources[index2];\n      if (source) {\n        assigner(object, source, index2, customizer);\n      }\n    }\n    return object;\n  });\n}\nvar objectProto$4 = Object.prototype;\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto$4;\n  return value === proto;\n}\nfunction baseTimes(n, iteratee) {\n  var index2 = -1, result = Array(n);\n  while (++index2 < n) {\n    result[index2] = iteratee(index2);\n  }\n  return result;\n}\nvar argsTag$1 = \"[object Arguments]\";\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag$1;\n}\nvar objectProto$3 = Object.prototype;\nvar hasOwnProperty$3 = objectProto$3.hasOwnProperty;\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\nvar isArguments = baseIsArguments(function() {\n  return arguments;\n}()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$3.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n};\nvar isArguments$1 = isArguments;\nfunction stubFalse() {\n  return false;\n}\nvar freeExports$1 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule$1 = freeExports$1 && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\nvar Buffer = moduleExports$1 ? root$1.Buffer : void 0;\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;\nvar isBuffer = nativeIsBuffer || stubFalse;\nvar isBuffer$1 = isBuffer;\nvar argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", objectTag = \"[object Object]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", weakMapTag = \"[object WeakMap]\";\nvar arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\nvar freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports = freeModule && freeModule.exports === freeExports;\nvar freeProcess = moduleExports && freeGlobal$1.process;\nvar nodeUtil = function() {\n  try {\n    var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n    if (types) {\n      return types;\n    }\n    return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n  } catch (e) {\n  }\n}();\nvar nodeUtil$1 = nodeUtil;\nvar nodeIsTypedArray = nodeUtil$1 && nodeUtil$1.isTypedArray;\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\nvar isTypedArray$1 = isTypedArray;\nvar objectProto$2 = Object.prototype;\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray$1(value), isArg = !isArr && isArguments$1(value), isBuff = !isArr && !isArg && isBuffer$1(value), isType = !isArr && !isArg && !isBuff && isTypedArray$1(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$2.call(value, key)) && !(skipIndexes && (key == \"length\" || isBuff && (key == \"offset\" || key == \"parent\") || isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\nvar nativeKeys = overArg(Object.keys, Object);\nvar nativeKeys$1 = nativeKeys;\nvar objectProto$1 = Object.prototype;\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys$1(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$1.call(object, key) && key != \"constructor\") {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\nvar assign$1 = assign;\nvar now = function() {\n  return root$1.Date.now();\n};\nvar now$1 = now;\nvar FUNC_ERROR_TEXT = \"Expected a function\";\nvar nativeMax = Math.max, nativeMin = Math.min;\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n  if (typeof func != \"function\") {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs, thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = setTimeout(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = now$1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(now$1());\n  }\n  function debounced() {\n    var time = now$1(), isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\nvar render = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", [_vm._t(\"default\", null, { \"images\": _vm.images, \"options\": _vm.options })], 2);\n};\nvar staticRenderFns = [];\nfunction normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {\n  var options = typeof scriptExports === \"function\" ? scriptExports.options : scriptExports;\n  if (render2) {\n    options.render = render2;\n    options.staticRenderFns = staticRenderFns2;\n    options._compiled = true;\n  }\n  if (functionalTemplate) {\n    options.functional = true;\n  }\n  if (scopeId) {\n    options._scopeId = \"data-v-\" + scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    hook = function(context) {\n      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== \"undefined\") {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      if (injectStyles) {\n        injectStyles.call(this, context);\n      }\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    options._ssrRegister = hook;\n  } else if (injectStyles) {\n    hook = shadowMode ? function() {\n      injectStyles.call(\n        this,\n        (options.functional ? this.parent : this).$root.$options.shadowRoot\n      );\n    } : injectStyles;\n  }\n  if (hook) {\n    if (options.functional) {\n      options._injectStyles = hook;\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return {\n    exports: scriptExports,\n    options\n  };\n}\nconst __vue2_script = {\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {},\n  watch: {\n    images() {\n      this.$nextTick(() => {\n        this.onChange();\n      });\n    },\n    trigger: {\n      handler() {\n        this.$nextTick(() => {\n          this.onChange();\n        });\n      },\n      deep: true\n    },\n    options: {\n      handler() {\n        this.$nextTick(() => {\n          this.rebuildViewer();\n        });\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.createViewer();\n  },\n  unmounted() {\n    this.destroyViewer();\n  },\n  methods: {\n    onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit(\"inited\", this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer() {\n      this.$viewer = new Viewer(this.$el, this.options);\n      this.$emit(\"inited\", this.$viewer);\n    }\n  }\n};\nconst __cssModules = {};\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  __vue2_script,\n  render,\n  staticRenderFns,\n  false,\n  __vue2_injectStyles,\n  null,\n  null,\n  null\n);\nfunction __vue2_injectStyles(context) {\n  for (let o in __cssModules) {\n    this[o] = __cssModules[o];\n  }\n}\nvar component = /* @__PURE__ */ function() {\n  return __component__.exports;\n}();\nconst directive = ({ name = \"viewer\", debug = false } = {}) => {\n  function createViewer(el, options, rebuild = false, observer = false) {\n    Vue.nextTick(() => {\n      if (observer && !imageDiff(el))\n        return;\n      if (rebuild || !el[`$${name}`]) {\n        destroyViewer(el);\n        el[`$${name}`] = new Viewer(el, options);\n        log(\"Viewer created\");\n      } else {\n        el[`$${name}`].update();\n        log(\"Viewer updated\");\n      }\n    });\n  }\n  function imageDiff(el) {\n    const imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    const viewerImageText = imageContent ? imageContent.join(\"\") : void 0;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log(\"Element change detected, but image(s) has not changed\");\n      return false;\n    } else {\n      log(\"Image change detected\");\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    if (!MutationObserver) {\n      log(\"Observer not supported\");\n      return;\n    }\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        log(`Viewer mutation:${mutation.type}`);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    const config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log(\"Observer created\");\n  }\n  function createWatcher(el, { expression }, vnode, debouncedCreateViewer) {\n    const simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log(\"Only simple dot-delimited paths can create watcher\");\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, (newVal, oldVal) => {\n      log(\"Change detected by watcher: \", expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log(\"Watcher created, expression: \", expression);\n  }\n  function destroyViewer(el) {\n    if (!el[`$${name}`]) {\n      return;\n    }\n    el[`$${name}`].destroy();\n    delete el[`$${name}`];\n    log(\"Viewer destroyed\");\n  }\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log(\"Observer destroyed\");\n  }\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log(\"Watcher destroyed\");\n  }\n  function log() {\n    debug && console.log(...arguments);\n  }\n  const directive2 = {\n    bind(el, binding, vnode) {\n      log(\"Viewer bind\");\n      const debouncedCreateViewer = debounce(createViewer, 50);\n      debouncedCreateViewer(el, binding.value);\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind(el, binding) {\n      log(\"Viewer unbind\");\n      destroyObserver(el);\n      destroyWatcher(el);\n      destroyViewer(el);\n    }\n  };\n  return directive2;\n};\nconst api = ({ images = [], options = {} } = {}) => {\n  options = assign$1(options, {\n    inline: false\n  });\n  const ViewerToken = Vue.extend({\n    render(h) {\n      return h(\n        \"div\",\n        {\n          style: {\n            display: \"none\"\n          },\n          class: [\"__viewer-token\"]\n        },\n        images.map((attr) => {\n          return h(\n            \"img\",\n            {\n              attrs: typeof attr === \"string\" ? { src: attr } : attr\n            }\n          );\n        })\n      );\n    }\n  });\n  const token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n  const $viewer = new Viewer(token.$el, options);\n  const $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function() {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n  token.$el.addEventListener(\"hidden\", function() {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n  return $viewer;\n};\nvar index = {\n  install(Vue2, { name = \"viewer\", debug = false, defaultOptions } = {}) {\n    Viewer.setDefaults(defaultOptions);\n    Vue2.component(name, assign$1(component, { name }));\n    Vue2.directive(name, directive({ name, debug }));\n    Vue2.prototype[`$${name}Api`] = api;\n  },\n  setDefaults(defaultOptions) {\n    Viewer.setDefaults(defaultOptions);\n  }\n};\nexport { api, component, index as default, directive };\n","/*!\n * Viewer.js v1.11.6\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-09-17T03:16:38.052Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var o = Object.getOwnPropertySymbols(e);\n      r && (o = o.filter(function (r) {\n        return Object.getOwnPropertyDescriptor(e, r).enumerable;\n      })), t.push.apply(t, o);\n    }\n    return t;\n  }\n  function _objectSpread2(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = null != arguments[r] ? arguments[r] : {};\n      r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n        _defineProperty(e, r, t[r]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n        Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n      });\n    }\n    return e;\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n    /**\n     * Define the initial coverage of the viewing image.\n     * @type {number}\n     */\n    initialCoverage: 0.9,\n    /**\n     * Define the initial index of the image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer';\n\n  // Actions\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom';\n\n  // Classes\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\n\n  // Native events\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel';\n\n  // Custom events\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop';\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n\n  // RegExps\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  // Misc\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n  function isString(value) {\n    return typeof value === 'string';\n  }\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n        var i;\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data, options) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /Version\\/\\d+(\\.\\d+)+?\\s+Safari/i.test(WINDOW.navigator.userAgent);\n\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img');\n\n    // Modern browsers (except Safari)\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n    var body = document.body || document.documentElement;\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src;\n\n    // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n    return newImage;\n  }\n\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n      default:\n        return '';\n    }\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n        parent = this.parent;\n      var viewerData;\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n      var element = this.element,\n        options = this.options,\n        list = this.list;\n      var items = [];\n\n      // initList may be called in this.update, so should keep idempotent\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n        var url = _this.getImageURL(image);\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          if (options.navbar) {\n            img.src = src || url;\n          }\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n      if (!item) {\n        return;\n      }\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter;\n\n      // Place the active item in the center of the screen\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n      var options = this.options,\n        image = this.image,\n        viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n        initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\n        width = Math.min(width * initialCoverage, naturalWidth);\n        height = Math.min(height * initialCoverage, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n      var image = this.image,\n        imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      var image = this.image;\n      if (image) {\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n        image.parentNode.removeChild(image);\n        this.image = null;\n        this.title.innerHTML = '';\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n        imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      }\n\n      // Cancel the emulated click when the native click event was triggered.\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n        case 'hide':\n          if (!this.pointerMoved) {\n            this.hide();\n          }\n          break;\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n        case 'one-to-one':\n          this.toggle();\n          break;\n        case 'reset':\n          this.reset();\n          break;\n        case 'prev':\n          this.prev(options.loop);\n          break;\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n        case 'next':\n          this.next(options.loop);\n          break;\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n        default:\n          if (this.played) {\n            this.stop();\n          }\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        }\n\n        // XXX: No pageX/Y properties in custom event, fallback to the original event.\n        this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n      }\n    },\n    load: function load() {\n      var _this = this;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n      var element = this.element,\n        options = this.options,\n        image = this.image,\n        index = this.index,\n        viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n      if (!options.keyboard) {\n        return;\n      }\n      var keyCode = event.keyCode || event.which || event.charCode;\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n          break;\n      }\n      if (!this.fulled) {\n        return;\n      }\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n\n        // Space\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n          break;\n\n        // ArrowLeft\n        case 37:\n          if (this.played && this.playing) {\n            this.playing.prev();\n          } else {\n            this.prev(options.loop);\n          }\n          break;\n\n        // ArrowUp\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom in\n          this.zoom(options.zoomRatio, true);\n          break;\n\n        // ArrowRight\n        case 39:\n          if (this.played && this.playing) {\n            this.playing.next();\n          } else {\n            this.next(options.loop);\n          }\n          break;\n\n        // ArrowDown\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom out\n          this.zoom(-options.zoomRatio, true);\n          break;\n\n        // Ctrl + 0\n        case 48:\n        // Fall through\n\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var buttons = event.buttons,\n        button = event.button;\n      this.pointerMoved = false;\n      if (!this.viewed || this.showing || this.viewing || this.hiding\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      // Prevent default behaviours as page zooming in touch devices.\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      var action = options.movable ? ACTION_MOVE : false;\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n        action = this.action;\n      if (!this.viewed || !action) {\n        return;\n      }\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n      var options = this.options,\n        action = this.action,\n        pointers = this.pointers;\n      var pointer;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = false;\n\n      // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false;\n\n            // This timeout will be cleared later when a native dblclick event is triggering\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          } else {\n            this.imageClicked = true;\n\n            // The default timing of a double click in Windows is 500 ms\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n      if (!this.viewed) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, true, null, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n      if (!this.ready) {\n        this.build();\n        if (this.ready) {\n          this.show(immediate);\n        }\n        return this;\n      }\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION);\n\n        // Force reflow to enable CSS3 transition\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n      return this;\n    },\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n      this.hiding = true;\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n      var viewer = this.viewer,\n        image = this.image;\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n        _this.hidden();\n      };\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            _this.hidden();\n          }\n        };\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        };\n\n        // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n      return this;\n    },\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n      var element = this.element,\n        options = this.options,\n        title = this.title,\n        canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n      var activeItem = this.items[this.index];\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n      if (options.focus) {\n        item.focus();\n      }\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n      canvas.innerHTML = '';\n      canvas.appendChild(image);\n\n      // Center current item\n      this.renderList();\n\n      // Clear title\n      title.innerHTML = '';\n\n      // Generate title after viewed\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n          removeClass(image, CLASS_INVISIBLE);\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n\n        // Make the image visible if it fails to load within 1s\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n      return this;\n    },\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      degree = Number(degree);\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\n      return this;\n    },\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var element = this.element,\n        options = this.options,\n        pointers = this.pointers,\n        imageData = this.imageData;\n      var x = imageData.x,\n        y = imageData.y,\n        width = imageData.width,\n        height = imageData.height,\n        naturalWidth = imageData.naturalWidth,\n        naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n        if (_originalEvent) {\n          switch (_originalEvent.type) {\n            case 'wheel':\n              if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n                ratio = 1;\n              }\n              break;\n            case 'pointermove':\n            case 'touchmove':\n            case 'mousemove':\n              if (ratio > 0.99 && ratio < 1.01) {\n                ratio = 1;\n              }\n              break;\n          }\n        }\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        this.zooming = true;\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          imageData.x -= offsetWidth * ((pivot.x - x) / width);\n          imageData.y -= offsetHeight * ((pivot.y - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n        if (showTooltip) {\n          this.tooltip();\n        }\n      }\n      return this;\n    },\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.isShown || this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n      if (isNumber(options.interval) && options.interval > 0) {\n        var prev = function prev() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index -= 1;\n          index = index >= 0 ? index : total - 1;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(prev, options.interval);\n        };\n        var next = function next() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index += 1;\n          index = index < total ? index : 0;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(next, options.interval);\n        };\n        if (total > 1) {\n          this.playing = {\n            prev: prev,\n            next: next,\n            timeout: setTimeout(next, options.interval)\n          };\n        }\n      }\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n      if (!this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n      var player = this.player;\n      clearTimeout(this.playing.timeout);\n      this.playing = false;\n      this.played = false;\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n      if (options.focus) {\n        this.enforceFocus();\n      }\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n      var options = this.options,\n        tooltipBox = this.tooltipBox,\n        imageData = this.imageData;\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden');\n\n          // Force reflow to enable CSS3 transition\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\n      } else {\n        this.zoomTo(1, true, null, _originalEvent);\n      }\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n      var element = this.element,\n        options = this.options,\n        isImg = this.isImg;\n\n      // Destroy viewer if the target image was deleted\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n      if (!images.length) {\n        return this;\n      }\n      this.images = images;\n      this.length = images.length;\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n          if (image && img) {\n            if (image.src !== img.src\n\n            // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index];\n\n                // Reactivate the current viewing item after reset the list.\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n        options = this.options;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      this.destroyed = true;\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n        if (target === document || target === viewer || viewer.contains(target)) {\n          return;\n        }\n        while (target) {\n          // Avoid conflicts with other modals (#474, #540)\n          if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n            return;\n          }\n          target = target.parentElement;\n        }\n        viewer.focus();\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n      }\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = this.initialBodyPaddingRight;\n      }\n    },\n    shown: function shown() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.hiding = false;\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement;\n\n        // Element.requestFullscreen()\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]];\n\n      // In the case of the `pointers` object is empty (#421)\n      if (!pointer) {\n        return;\n      }\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          if (offsetX !== 0 || offsetY !== 0) {\n            this.pointerMoved = true;\n            this.move(offsetX, offsetY, event);\n          }\n          break;\n\n        // Zoom the current image\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, null, event);\n          break;\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n            break;\n          }\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n        viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Viewer);\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.pointerMoved = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var element = this.element,\n          options = this.options;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n\n        // The `focus` option requires the `keyboard` option set to `true`.\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody();\n\n        // Override `transition` option if it is not supported\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n        if (options.inline) {\n          var count = 0;\n          var progress = function progress() {\n            count += 1;\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              };\n\n              // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n                _this.build();\n              }, 0);\n            }\n          };\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                  removeListener(image, EVENT_ERROR, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              var onLoad;\n              var onError;\n              addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n                removeListener(image, EVENT_ERROR, onError);\n                progress();\n              }, {\n                once: true\n              });\n              addListener(image, EVENT_ERROR, onError = function onError() {\n                removeListener(image, EVENT_LOAD, onLoad);\n                progress();\n              }, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n          if (!container) {\n            container = this.body;\n          }\n          container.appendChild(viewer);\n        }\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n        this.ready = true;\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Viewer;\n  }();\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}