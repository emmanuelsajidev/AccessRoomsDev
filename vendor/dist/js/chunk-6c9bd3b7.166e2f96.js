(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c9bd3b7"],{"03f4":function(t,e,a){"use strict";a.r(e);var s=a("8336"),i=a("b0af"),r=a("62ad"),n=a("0e8f"),o=a("132d"),l=a("a722"),c=a("0fd9"),d=a("2db4"),p=a("b73d"),h=a("8654"),f=function(){var t=this,e=t._self._c;return e("div",[e("vue-element-loading",{attrs:{active:t.appLoading,"is-full-screen":!0,"background-color":"#FFFFFF",color:"#002635",spinner:"bar-fade-scale"}}),t.ServerError?e("ServerError"):t._e(),e(d["a"],{attrs:{color:"#f54c0c",right:"",timeout:t.timeout},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[e(l["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{staticClass:"align-self-center",attrs:{"text-left":""}},[e("span",{staticStyle:{color:"white"}},[t._v(" "+t._s(t.msg)+" ")])]),e(n["a"],{attrs:{"text-right":""}},[e(s["a"],{attrs:{small:"",ripple:!1,text:""},on:{click:function(e){t.showSnackbar=!1}}},[e(o["a"],{staticStyle:{color:"white"}},[t._v("mdi-close")])],1)],1)],1)],1),e(l["a"],{attrs:{wrap:"","justify-start":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticClass:"title1",style:{"font-size":"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?"20px":"md"==t.$vuetify.breakpoint.name||"lg"==t.$vuetify.breakpoint.name?"25px":"30px"}},[t._v(t._s(t.$route.query.name))])])],1),e("vue-horizontal",{staticClass:"hidden-sm-and-up"},[e(c["a"],{staticClass:"scrollable-row",attrs:{"no-gutters":""}},[e(r["a"],{attrs:{cols:"12"}},[e(i["a"],{staticClass:"py-2 pr-1",attrs:{outlined:"",width:"1200px"}},[e(l["a"],{attrs:{wrap:"","justify-start":""}},[e(n["a"],{attrs:{xs6:"","text-left":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"20px"}},[t._v("Shikara special rates")])]),e(n["a"],{attrs:{xs6:"","text-right":""}},[e(s["a"],{staticClass:"px-0 custom-btn",attrs:{"x-small":"",dense:"",outlined:"",color:"grey"},on:{click:function(e){return t.goBack()}}},[e(o["a"],[t._v("mdi-menu-left")])],1),e(s["a"],{staticClass:"px-0 custom-btn2",attrs:{"x-small":"",dense:"",outlined:"",color:"grey"},on:{click:function(e){return t.goFront()}}},[e(o["a"],[t._v("mdi-menu-right")])],1)],1)],1),e(l["a"],{staticStyle:{"background-color":"rgb(229, 229, 229)"},attrs:{wrap:"","justify-start":"","justify-sm-end":"","my-4":"","pa-2":""}},[e(n["a"],{staticClass:"mx-0 mx-sm-1 px-4",attrs:{xs2:"","text-right":"","align-self-center":""}}),t._l(t.weekArray,(function(a,s){return e(i["a"],{key:s,staticClass:"mx-0 mx-sm-1",attrs:{width:"140px",outlined:""}},[e(i["a"],{attrs:{height:"80px",width:"100%","pa-2":"",elevation:"0"}},[e(l["a"],{attrs:{wrap:"","justify-center":"","fill-height":""}},[e(n["a"],{staticStyle:{"line-height":"17px"},attrs:{xs12:"","align-self-center":"","text-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"10px","text-transform":"uppercase"}},[t._v(t._s(a.month))]),e("br"),e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"20px"}},[t._v(t._s(a.dayOfMonth))]),e("br"),e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"10px","text-transform":"uppercase"}},[t._v(t._s(a.day))])])],1)],1)],1)}))],2),e(l["a"],{attrs:{wrap:"","justify-start":""}},[e(n["a"],{staticClass:"mx-0 mx-sm-1",attrs:{xs2:"","text-left":""}},[e(l["a"],{attrs:{wrap:""}},[e(n["a"],{attrs:{xs12:"","pt-3":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{tile:"",elevation:"0",height:"45px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Agent Rate (₹)")])]),e(n["a"],{attrs:{xs12:"","align-self-center":"","pt-3":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"14px"}},[t._v("Net rate (₹) ")])])],1)],1)],1),e(n["a"],{attrs:{xs12:"","pt-3":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1 mt-6",attrs:{tile:"",elevation:"0",height:"65px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Customer Rate (₹)")])]),e(n["a"],{attrs:{xs12:"","pt-0":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"14px"}},[t._v("Net rate (₹) ")])])],1)],1)],1),e(n["a"],{attrs:{xs12:"","pt-3":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{tile:"",elevation:"0",height:"35px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Availability")])])],1)],1)],1)],1)],1),t._l(t.newArr,(function(a,s){return e(i["a"],{key:s,staticClass:"mx-0 mx-sm-1",attrs:{width:"140px",outlined:""}},[e(l["a"],{attrs:{wrap:""}},[e(n["a"],{attrs:{xs12:"","pt-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{elevation:"0",tile:""}},[e(h["a"],{staticStyle:{"border-radius":"5px"},attrs:{dense:"",outlined:"",type:"text","hide-details":""},on:{change:function(e){return t.calAgentNetRate(s,a.agentRate)}},model:{value:a.agentRate,callback:function(e){t.$set(a,"agentRate",e)},expression:"item.agentRate"}}),(a.agentRate,e("span",{staticClass:"pl-2",staticStyle:{"font-family":"LexendFont","font-size":"12px","font-weight":"300"}},[t._v(t._s(a.agentNetrate))]))],1)],1),e(n["a"],{attrs:{xs12:"","py-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{elevation:"0",tile:""}},[e(h["a"],{staticStyle:{"border-radius":"5px"},attrs:{dense:"",outlined:"",type:"text","hide-details":""},on:{change:function(e){return t.calCustomerNetRate(s,a.customerRate)}},model:{value:a.customerRate,callback:function(e){t.$set(a,"customerRate",e)},expression:"item.customerRate"}}),(a.customerRate,e("span",{staticClass:"pl-2",staticStyle:{"font-family":"LexendFont","font-size":"12px","font-weight":"300"}},[t._v(t._s(a.customerNetrate))]))],1)],1),e(n["a"],{attrs:{xs12:"","py-2":"","text-center":"","px-6":""}},[e(p["a"],{staticClass:"mt-0",attrs:{dense:"","hide-details":"",inset:"",color:"#F17343"},on:{change:function(e){return t.callAvailabilityChange(s)}},model:{value:a.isAvailable,callback:function(e){t.$set(a,"isAvailable",e)},expression:"item.isAvailable"}})],1)],1)],1)}))],2),e(l["a"],{attrs:{wrap:"","pt-2":"","justify-end":""}},[e(n["a"],{attrs:{xs1:"","pr-4":""}},[e(s["a"],{staticClass:"btnstly",attrs:{block:"",dark:""},on:{click:function(e){return t.editHouseboat()}}},[t._v("save")])],1)],1)],1)],1)],1)],1),e(l["a"],{staticClass:"hidden-xs-only",attrs:{wrap:"","justify-space-around":"","pt-0":"","pt-sm-2":""}},[e(n["a"],{attrs:{xs12:""}},[e(i["a"],{staticClass:"pa-1 pa-md-8 pa-sm-6",attrs:{tile:""}},[e(l["a"],{attrs:{wrap:"","justify-start":""}},[e(n["a"],{attrs:{xs12:"",sm6:"","text-left":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"20px"}},[t._v("Shikara special rates")])]),e(n["a"],{attrs:{xs12:"",sm6:"","text-right":""}},[e(s["a"],{staticClass:"px-0 custom-btn",attrs:{"x-small":"",dense:"",outlined:"",color:"grey"},on:{click:function(e){return t.goBack()}}},[e(o["a"],[t._v("mdi-menu-left")])],1),e(s["a"],{staticClass:"px-0 custom-btn2",attrs:{"x-small":"",dense:"",outlined:"",color:"grey"},on:{click:function(e){return t.goFront()}}},[e(o["a"],[t._v("mdi-menu-right")])],1)],1)],1),e(l["a"],{staticStyle:{"background-color":"rgb(229, 229, 229)"},attrs:{wrap:"","justify-start":"","justify-sm-end":"","my-4":"","pa-2":""}},t._l(t.weekArray,(function(a,s){return e(n["a"],{key:s,staticClass:"mx-0 mx-sm-1",attrs:{xs3:"",sm1:"",md1:"","text-center":""}},[e(i["a"],{attrs:{height:"80px",width:"80px","pa-2":"",elevation:"0"}},[e(l["a"],{attrs:{wrap:"","justify-center":"","fill-height":""}},[e(n["a"],{staticStyle:{"line-height":"17px"},attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"10px","text-transform":"uppercase"}},[t._v(t._s(a.month))]),e("br"),e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"20px"}},[t._v(t._s(a.dayOfMonth))]),e("br"),e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"10px","text-transform":"uppercase"}},[t._v(t._s(a.day))])])],1)],1)],1)})),1),e(i["a"],{staticClass:"py-2 pr-1",attrs:{outlined:""}},[e(l["a"],{attrs:{wrap:"","justify-end":""}},[e(n["a"],{staticClass:"mx-0 mx-sm-1",attrs:{xs3:"",md4:"","text-center":""}},[e(l["a"],{attrs:{wrap:""}},[e(n["a"],{attrs:{xs12:"","pt-3":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1 mt-2",attrs:{tile:"",elevation:"0",height:"65px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Agent Rate (₹)")])]),e(n["a"],{attrs:{xs12:""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"14px"}},[t._v("Net rate (₹) ")])])],1)],1)],1),e(n["a"],{attrs:{xs12:"","pt-2":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{tile:"",elevation:"0",height:"55px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Customer Rate")])]),e(n["a"],{attrs:{xs12:"","pt-0":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"14px"}},[t._v("Net rate (₹) ")])])],1)],1)],1),e(n["a"],{attrs:{xs12:"","pt-3":"","text-right":"","px-2":""}},[e(i["a"],{staticClass:"ma-1",attrs:{tile:"",elevation:"0",height:"35px"}},[e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(n["a"],{attrs:{xs12:"","align-self-center":""}},[e("span",{staticStyle:{"font-family":"LexendFont","font-weight":"400","font-size":"16px"}},[t._v("Availability")])])],1)],1)],1)],1)],1),t._l(t.newArr,(function(a,s){return e(n["a"],{key:s,staticClass:"mx-0 mx-sm-1",attrs:{xs3:"",sm1:"",md1:"","text-center":""}},[e(l["a"],{attrs:{wrap:""}},[e(n["a"],{attrs:{xs12:"","pt-2":"","text-left":""}},[e(i["a"],{staticClass:"ma-1",attrs:{elevation:"0",tile:""}},[e(h["a"],{staticStyle:{"border-radius":"5px"},attrs:{dense:"",outlined:"",type:"text","hide-details":""},on:{change:function(e){return t.calAgentNetRate(s,a.agentRate)}},model:{value:a.agentRate,callback:function(e){t.$set(a,"agentRate",e)},expression:"item.agentRate"}}),(a.agentRate,e("span",{staticClass:"pl-2",staticStyle:{"font-family":"LexendFont","font-size":"12px","font-weight":"300"}},[t._v(t._s(a.agentNetrate))]))],1)],1),e(n["a"],{attrs:{xs12:"","py-2":"","text-left":""}},[e(i["a"],{staticClass:"ma-1",attrs:{elevation:"0",tile:""}},[e(h["a"],{staticStyle:{"border-radius":"5px"},attrs:{dense:"",outlined:"",type:"text","hide-details":""},on:{change:function(e){return t.calCustomerNetRate(s,a.customerRate)}},model:{value:a.customerRate,callback:function(e){t.$set(a,"customerRate",e)},expression:"item.customerRate"}}),(a.customerRate,e("span",{staticClass:"pl-2",staticStyle:{"font-family":"LexendFont","font-size":"12px","font-weight":"300"}},[t._v(t._s(a.customerNetrate))]))],1)],1),e(n["a"],{attrs:{xs12:"","py-2":"","text-center":"","px-6":""}},[e(p["a"],{staticClass:"mt-0",attrs:{dense:"","hide-details":"",inset:"",color:"#F17343"},on:{change:function(e){return t.callAvailabilityChange(s)}},model:{value:a.isAvailable,callback:function(e){t.$set(a,"isAvailable",e)},expression:"item.isAvailable"}})],1)],1)],1)}))],2)],1),e(l["a"],{attrs:{wrap:"","pt-2":"","pr-0":"","pr-sm-3":"","pr-md-0":"","justify-end":""}},[e(n["a"],{attrs:{xs1:""}},[e(s["a"],{staticClass:"btnstly",attrs:{block:"",dark:""},on:{click:function(e){return t.SaveRate()}}},[t._v("save")])],1)],1)],1)],1)],1)],1)},u=[],g=(a("14d9"),a("f047")),x=a("cee4"),m={components:{VueHorizontal:g["a"]},data(){return{appLoading:!1,ServerError:!1,showSnackbar:!1,timeout:5e3,msg:null,curdate:(new Date).toISOString().split("T")[0],enddate:null,weekArray:[],newArr:[],tenpercent11:0,tenpercent33:0,items:[{title:"Card 1",description:"Description for Card 1"},{title:"Card 2",description:"Description for Card 2"},{title:"Card 3",description:"Description for Card 3"},{title:"Card 1",description:"Description for Card 1"},{title:"Card 2",description:"Description for Card 2"},{title:"Card 3",description:"Description for Card 3"},{title:"Card 1",description:"Description for Card 1"},{title:"Card 2",description:"Description for Card 2"},{title:"Card 3",description:"Description for Card 3"}]}},mounted(){if(console.log("000000000000"),this.curdate){console.log("1111111111111"),this.curdate=(new Date).toISOString().split("T")[0];const t=new Date;t.setDate(t.getDate()+7),this.enddate=t.toISOString().split("T")[0],this.getWeekDates(this.curdate)}},methods:{callAvailabilityChange(t){console.log("index",t);for(let e=0;e<this.newArr.length;e++)if(e==t){this.newArr[e].isEdit=!0,console.log("this.newArr[j].isEdit",this.newArr[e].isEdit),this.flag=!0;break}},goBack(){this.editHouseboat(),this.prevWeekArray()},goFront(){this.editHouseboat(),this.updateWeekArray()},updateWeekArray(){const t=this.weekArray[this.weekArray.length-1].date,e=new Date(t);e.setDate(e.getDate()+1),this.curdate=e.toISOString().split("T")[0],this.getWeekDates(this.curdate)},prevWeekArray(){const t=new Date(this.curdate);t.setDate(t.getDate()-7),this.curdate=t.toISOString().split("T")[0],this.getWeekDates(this.curdate)},getWeekDates(t){console.log("get weeks called");const e=new Date(t),a=[];for(let s=0;s<7;s++){const t=new Date(e);t.setDate(e.getDate()+s);const i=t.toISOString().split("T")[0],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],n=t.getDate(),o=t.toLocaleString("default",{month:"long"});a.push({date:i,day:r,dayOfMonth:n,month:o})}this.weekArray=a,console.log("this.weekArray=",this.weekArray),this.enddate=this.weekArray[6].date,this.getData()},getData(){this.appLoading=!0,Object(x["a"])({method:"POST",url:"/shikara/package/data",headers:{token:localStorage.getItem("token")},data:{tripTypeId:this.$route.query.id,shikaraId:this.$route.query.boatId,startDate:this.curdate,endDate:this.enddate}}).then(t=>{this.appLoading=!1,1==t.data.status?(this.newArr=t.data.data.map(t=>(t.agentNetrate=this.calculateNetrate(t.agentRate),t.customerNetrate=this.calculateNetrate(t.customerRate),t)),console.log("newArr=",this.newArr)):(this.msg=t.data.msg,this.showSnackbar=!0)}).catch(t=>{this.appLoading=!1,console.log(t),this.ServerError=!0})},calculateNetrate(t){const e=100*t/120;return e.toFixed(2)},calAgentNetRate(t,e){console.log("index",t);for(let a=0;a<this.newArr.length;a++)if(a==t){this.newArr[a].agentNetrate=this.calculateNetrate(e),this.newArr[a].isEdit=!0,console.log("this.newArr[j].isEdit",this.newArr[a].isEdit),this.flag=!0,console.log("oldrate",e);break}},calCustomerNetRate(t,e){console.log("index",t);for(let a=0;a<this.newArr.length;a++)if(a==t){this.newArr[a].customerNetrate=this.calculateNetrate(e),this.newArr[a].isEdit=!0,console.log("this.newArr[j].isEdit",this.newArr[a].isEdit),this.flag=!0,console.log("oldrate",e);break}},editHouseboat(){this.appLoading=!0,Object(x["a"])({method:"POST",url:"/shikara/specialrate/add",data:{packageDetails:this.newArr,tripTypeId:this.$route.query.id,shikaraId:this.$route.query.boatId,startDate:this.curdate,endDate:this.enddate},headers:{token:localStorage.getItem("token")}}).then(t=>{this.appLoading=!1,1==t.data.status?this.msg=t.data.msg:(this.msg=t.data.msg,this.showSnackbar=!0)})},SaveRate(){this.appLoading=!0,Object(x["a"])({method:"POST",url:"/shikara/specialrate/add",data:{packageDetails:this.newArr,tripTypeId:this.$route.query.id,shikaraId:this.$route.query.boatId,startDate:this.curdate,endDate:this.enddate},headers:{token:localStorage.getItem("token")}}).then(t=>{this.appLoading=!1,1==t.data.status?(this.msg=t.data.msg,this.showSnackbar=!0,this.getData()):(this.msg=t.data.msg,this.showSnackbar=!0)})}}},y=m,w=(a("3d13"),a("0c7c")),k=Object(w["a"])(y,f,u,!1,null,"51c37c0c",null);e["default"]=k.exports},"3d13":function(t,e,a){"use strict";a("dd5e")},dd5e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6c9bd3b7.166e2f96.js.map