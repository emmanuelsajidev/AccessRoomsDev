(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-183b456e","chunk-75bf9ea5"],{"0366":function(t,e,i){var s=i("4625"),a=i("59ed"),n=i("40d5"),o=s(s.bind);t.exports=function(t,e){return a(t),void 0===e?t:n?o(t,e):function(){return t.apply(e,arguments)}}},"182d":function(t,e,i){var s=i("f8cd"),a=RangeError;t.exports=function(t,e){var i=s(t);if(i%e)throw a("Wrong offset");return i}},"19aa":function(t,e,i){var s=i("3a9b"),a=TypeError;t.exports=function(t,e){if(s(e,t))return t;throw a("Incorrect invocation")}},"1d02":function(t,e,i){"use strict";var s=i("ebb5"),a=i("a258").findLastIndex,n=s.aTypedArray,o=s.exportTypedArrayMethod;o("findLastIndex",(function(t){return a(n(this),t,arguments.length>1?arguments[1]:void 0)}))},"23a7":function(t,e,i){"use strict";i("13d5"),i("14d9"),i("5803");var s=i("2677"),a=i("cc20"),n=i("80d2"),o=i("d9bd"),r=i("d9f7");e["a"]=s["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>Object(n["A"])(t).every(t=>null!=t&&"object"===typeof t)}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce((t,{size:e=0})=>t+e,0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(n["r"])(e,1024===this.base))},internalArrayValue(){return Object(n["A"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map(t=>{const{name:e="",size:i=0}=t,s=this.truncateText(e);return this.showSize?`${s} (${Object(n["r"])(i,1024===this.base)})`:s}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&Object(o["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];Object(n["j"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((t,e)=>this.$createElement(a["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t])):[]},genControl(){const t=s["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(r["c"])(t.data.style,{display:"none"})),t},genInput(){const t=s["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((e,i)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[i],file:e,index:i}))}):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=s["a"].options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:t=>{t.target&&"LABEL"===t.target.nodeName||this.$refs.input.click()}},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}â€¦${t.slice(t.length-e)}`}}})},2677:function(t,e,i){"use strict";var s=i("8654");e["a"]=s["a"]},"271a":function(t,e,i){"use strict";var s=i("cb2d"),a=i("e330"),n=i("577e"),o=i("d6d6"),r=URLSearchParams,h=r.prototype,c=a(h.getAll),l=a(h.has),u=new r("a=1");u.has("a",2)&&s(h,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return l(this,t);var s=c(this,t);o(e,1);var a=n(i),r=0;while(r<s.length)if(s[r++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},2834:function(t,e,i){"use strict";var s=i("ebb5"),a=i("e330"),n=i("59ed"),o=i("dfb9"),r=s.aTypedArray,h=s.getTypedArrayConstructor,c=s.exportTypedArrayMethod,l=a(s.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&n(t);var e=r(this),i=o(h(e),e);return l(i,t)}))},"2c64":function(t,e,i){},"3c5d":function(t,e,i){"use strict";var s=i("da84"),a=i("c65b"),n=i("ebb5"),o=i("07fa"),r=i("182d"),h=i("7b0b"),c=i("d039"),l=s.RangeError,u=s.Int8Array,d=u&&u.prototype,p=d&&d.set,m=n.aTypedArray,g=n.exportTypedArrayMethod,f=!c((function(){var t=new Uint8ClampedArray(2);return a(p,t,{length:1,0:3},1),3!==t[1]})),v=f&&n.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){m(this);var e=r(arguments.length>1?arguments[1]:void 0,1),i=h(t);if(f)return a(p,this,i,e);var s=this.length,n=o(i),c=0;if(n+e>s)throw l("Wrong length");while(c<n)this[e+c]=i[c++]}),!f||v)},"3d86":function(t,e,i){},"43a6":function(t,e,i){"use strict";i("ec29"),i("3d86");var s=i("c37a"),a=i("604c"),n=i("58df");const o=Object(n["a"])(a["a"],s["a"]);e["a"]=o.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},s["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=s["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=s["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:a["a"].options.methods.onClick},render(t){const e=s["a"].options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}})},4625:function(t,e,i){var s=i("c6b6"),a=i("e330");t.exports=function(t){if("Function"===s(t))return a(t)}},"4b11":function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},"4ea1":function(t,e,i){"use strict";var s=i("d429"),a=i("ebb5"),n=i("bcbf"),o=i("5926"),r=i("f495"),h=a.aTypedArray,c=a.getTypedArrayConstructor,l=a.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var i=h(this),a=o(t),l=n(i)?r(e):+e;return s(i,c(i),a,l)}}["with"],!u)},5311:function(t,e,i){"use strict";i("14d9");var s=i("5607"),a=i("2b0e");e["a"]=a["default"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},5494:function(t,e,i){"use strict";var s=i("83ab"),a=i("e330"),n=i("edd0"),o=URLSearchParams.prototype,r=a(o.forEach);s&&!("size"in o)&&n(o,"size",{get:function(){var t=0;return r(this,(function(){t++})),t},configurable:!0,enumerable:!0})},5803:function(t,e,i){},"67b6":function(t,e,i){"use strict";i("2c64");var s=i("ba87"),a=i("9d26"),n=i("c37a"),o=i("7e2b"),r=i("a9ad"),h=i("4e82"),c=i("5311"),l=i("7560"),u=i("fe09"),d=i("80d2"),p=i("58df"),m=i("d9f7");const g=Object(p["a"])(o["a"],r["a"],c["a"],Object(h["a"])("radioGroup"),l["a"]);e["a"]=g.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:{type:Boolean,default:null},id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:{type:Boolean,default:null},value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return u["a"].options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return n["a"].options.computed.computedId.call(this)},hasLabel:n["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){var t;return null!==(t=this.disabled)&&void 0!==t?t:!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){var t;return null!==(t=this.readonly)&&void 0!==t?t:!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return u["a"].options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return u["a"].options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(s["a"],{on:{click:u["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(d["o"])(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:Object(m["b"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}})},"6ce5":function(t,e,i){"use strict";var s=i("df7e"),a=i("ebb5"),n=a.aTypedArray,o=a.exportTypedArrayMethod,r=a.getTypedArrayConstructor;o("toReversed",(function(){return s(n(this),r(this))}))},"6e6c":function(t,e,i){"use strict";var s=i("8336"),a=i("b0af"),n=i("99d9"),o=i("169a"),r=i("0e8f"),h=i("132d"),c=i("adda"),l=i("a722"),u=i("2db4"),d=function(){var t=this,e=t._self._c;return e("div",[e(u["a"],{attrs:{color:"#68D389",right:"",timeout:t.timeout},model:{value:t.showSnackBar,callback:function(e){t.showSnackBar=e},expression:"showSnackBar"}},[e(l["a"],{attrs:{wrap:"","justify-center":""}},[e(r["a"],{staticClass:"align-self-center",attrs:{"text-left":""}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v(" "+t._s(t.msg)+" ")])]),e(r["a"],{attrs:{"text-right":""}},[e(s["a"],{attrs:{small:"",ripple:!1,text:""},on:{click:function(e){t.showSnackBar=!1}}},[e(h["a"],{staticStyle:{color:"#ffffff"}},[t._v("mdi-close")])],1)],1)],1)],1),e(l["a"],{attrs:{wrap:""}},[e(r["a"],{attrs:{xs12:"","align-self-center":""}},[e(a["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#ED7243",height:"80px",width:"90px"},on:{click:function(e){return t.$refs.files.click()}}},[t.singleImage||t.resultImage?t._e():e(l["a"],{attrs:{wrap:"","fill-height":""}},[e(r["a"],{attrs:{xs12:"","align-self-center":"","text-center":""}},[e(h["a"],{attrs:{color:"white"}},[t._v("mdi-plus-circle-outline")])],1)],1),t.singleImage&&!t.resultImage?e(c["a"],{attrs:{src:t.mediaUURL+t.singleImage,height:"80px",width:"90px"}}):e(c["a"],{attrs:{src:t.resultImage,height:"80px",width:"90px"}}),e(o["a"],{attrs:{persistent:"",width:"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?"100vw":"md"==t.$vuetify.breakpoint.name?"80vw":"lg"==t.$vuetify.breakpoint.name?"50vw":"40vw"},model:{value:t.isCropper,callback:function(e){t.isCropper=e},expression:"isCropper"}},[e(a["a"],{staticClass:"pb-3"},[e(n["c"],{staticClass:"headline"},[e(l["a"],{attrs:{wrap:""}},[e(r["a"],{attrs:{md12:""}},[e("span",[t._v(" Crop Image")])]),e(r["a"],{attrs:{"text-right":""}},[e(s["a"],{attrs:{small:"",ripple:!1,text:""},on:{click:function(e){t.isCropper=!1}}},[e(h["a"],{staticStyle:{color:"#red"}},[t._v("mdi-close")])],1)],1)],1)],1),e("Cropper",{ref:"cropper",staticClass:"example-cropper",attrs:{"stencil-props":{aspectRatio:t.width/t.height},src:t.image}}),e(n["a"],[e(l["a"],{attrs:{wrap:"","justify-start":"","justify-sm-center":"","pt-3":""}},[e(r["a"],{attrs:{xs4:"",sm3:"",md3:""}},[e(s["a"],{staticClass:"py-2 px-2 px-sm-5",attrs:{small:"",ripple:!1,color:"#68D389"},on:{click:t.cropImage}},[e("span",{staticStyle:{color:"#ffffff","font-family":"poppinsregular"}},[t._v("Crop")])])],1),e(r["a"],{attrs:{xs8:"",md3:"",xs3:""}},[e(s["a"],{staticClass:"py-2 px-3",attrs:{small:"",ripple:!1,color:"#68D389"},on:{click:function(e){return t.$refs.files.click()}}},[e("span",{staticStyle:{color:"#ffffff","font-family":"poppinsregular"}},[t._v("Change Image")])])],1)],1)],1)],1)],1)],1),e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"files",attrs:{accept:"image/*",id:"file1",type:"file"},on:{change:t.browseImage}})],1)],1)],1)},p=[],m=(i("88a7"),i("271a"),i("5494"),i("b7ef"),i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("a2c1")),g=(i("f7aa"),{props:["singleImage","pageId","height","width","heading","componentType"],components:{Cropper:m["a"]},data(){return{image:null,resultImage:null,imageArray:[],showSnackBar:!1,msg:null,timeout:5e3,isCropper:!1,photos:[]}},methods:{cropImage(){var t=this.dataURLtoFile(this.$refs.cropper.getResult().canvas.toDataURL("image/jpeg",.8),"myimage.jpg");console.log("imageData",t),this.resultImage=URL.createObjectURL(t),console.log("componentType==",this.componentType),this.isCropper=!1,this.$emit("stepper",{type:this.componentType,selectedFiles:t})},dataURLtoFile(t,e){var i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=atob(i[1]),n=a.length,o=new Uint8Array(n);while(n--)o[n]=a.charCodeAt(n);return new File([o],e,{type:s})},browseImage(t){var e;e=new Image,e.src=window.URL.createObjectURL(t.target.files[0]);var i=t.target.files[0];if(i.size>3145728)return this.msg="File size Should be less than 3MB",void(this.showSnackBar=!0);e.onload=()=>{this.isCropper=!0,this.image=URL.createObjectURL(t.target.files[0])}}}}),f=g,v=i("0c7c"),b=Object(v["a"])(f,d,p,!1,null,null,null);e["a"]=b.exports},"77ee":function(t,e,i){"use strict";i("a018")},"87fe":function(t,e,i){"use strict";var s=i("8336"),a=i("b0af"),n=i("0e8f"),o=i("a722"),r=function(){var t=this,e=t._self._c;return e("div",[e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","py-2":""}},[e("span",{staticClass:"textField1"},[t._v("Crop Image")])])],1),e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","py-2":"","align-self-center":""}},[e(a["a"],[e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","text-center":"","align-self-center":""}},[e("Cropper",{ref:"cropper",staticClass:"example-cropper",attrs:{"stencil-props":{aspectRatio:t.cropwidth/t.cropheight},src:t.image}})],1)],1),e(o["a"],{attrs:{wrap:"","justify-center":"","py-2":""}},[e(n["a"],{attrs:{xs6:"",xl3:"","px-2":""}},[e(s["a"],{attrs:{block:"",dark:"",small:"",ripple:!1,color:"#68D389"},on:{click:t.closeDialog}},[e("span",[t._v(" Cancel ")])])],1),e(n["a"],{attrs:{xs6:"",xl3:"","px-2":""}},[e(s["a"],{attrs:{block:"",dark:"",small:"",ripple:!1,color:"#FF4444"},on:{click:t.cropImage}},[e("span",[t._v(" Crop ")])])],1)],1)],1)],1)],1)],1)},h=[],c=(i("b7ef"),i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("a2c1")),l=(i("f7aa"),{props:["image","cropwidth","cropheight","imageType"],components:{Cropper:c["a"]},data(){return{resultImage:null,msg:null}},methods:{closeDialog(){this.$emit("stepper",{dialog:!1,image:null})},cropImage(){var t=this.dataURLtoFile(this.$refs.cropper.getResult().canvas.toDataURL("image/jpeg",.3),"myimage.jpg");this.$emit("stepper",{dialog:!1,image:t,imageType:this.imageType})},dataURLtoFile(t,e){var i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=atob(i[1]),n=a.length,o=new Uint8Array(n);while(n--)o[n]=a.charCodeAt(n);return new File([o],e,{type:s})}}}),u=l,d=i("0c7c"),p=Object(d["a"])(u,r,h,!1,null,null,null);e["a"]=p.exports},"88a7":function(t,e,i){"use strict";var s=i("cb2d"),a=i("e330"),n=i("577e"),o=i("d6d6"),r=URLSearchParams,h=r.prototype,c=a(h.append),l=a(h["delete"]),u=a(h.forEach),d=a([].push),p=new r("a=1&a=2");p["delete"]("a",1),p+""!=="a=2"&&s(h,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return l(this,t);var s=[];u(this,(function(t,e){d(s,{key:e,value:t})})),o(e,1);var a,r=n(t),h=n(i),p=0,m=0,g=!1,f=s.length;while(p<f)a=s[p++],g||a.key===r?(g=!0,l(this,a.key)):m++;while(m<f)a=s[m++],a.key===r&&a.value===h||c(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},"907a":function(t,e,i){"use strict";var s=i("ebb5"),a=i("07fa"),n=i("5926"),o=s.aTypedArray,r=s.exportTypedArrayMethod;r("at",(function(t){var e=o(this),i=a(e),s=n(t),r=s>=0?s:i+s;return r<0||r>=i?void 0:e[r]}))},"986a":function(t,e,i){"use strict";var s=i("ebb5"),a=i("a258").findLast,n=s.aTypedArray,o=s.exportTypedArrayMethod;o("findLast",(function(t){return a(n(this),t,arguments.length>1?arguments[1]:void 0)}))},"9d01":function(t,e,i){},a018:function(t,e,i){},a258:function(t,e,i){var s=i("0366"),a=i("44ad"),n=i("7b0b"),o=i("07fa"),r=function(t){var e=1==t;return function(i,r,h){var c,l,u=n(i),d=a(u),p=s(r,h),m=o(d);while(m-- >0)if(c=d[m],l=p(c,m,u),l)switch(t){case 0:return c;case 1:return m}return e?-1:void 0}};t.exports={findLast:r(0),findLastIndex:r(1)}},a2c1:function(t,e,i){"use strict";i.d(e,"a",(function(){return ne}));var s=i("2b0e");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){if(null==t)return{};var i,s,a=function(t,e){if(null==t)return{};var i,s,a={},n=Object.keys(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)i=n[s],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function h(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var l,u,d,p=(l=function(t){
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function i(){for(var t=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var n=typeof a;if("string"===n||"number"===n)t.push(a);else if(Array.isArray(a)){if(a.length){var o=i.apply(null,a);o&&t.push(o)}}else if("object"===n)if(a.toString===Object.prototype.toString)for(var r in a)e.call(a,r)&&a[r]&&t.push(r);else t.push(a.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i}()},l(d={path:u,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&d.path)}},d.exports),d.exports),m=function(t){return function(e,i){if(!e)return t;var s;"string"==typeof e?s=e:i=e;var a=t;return s&&(a+="__"+s),a+(i?Object.keys(i).reduce((function(t,e){var s=i[e];return s&&(t+=" "+("boolean"==typeof s?a+"--"+e:a+"--"+e+"_"+s)),t}),""):"")}};function g(t,e,i){var s,a,n,o,r;function h(){var c=Date.now()-o;c<e&&c>=0?s=setTimeout(h,e-c):(s=null,i||(r=t.apply(n,a),n=a=null))}null==e&&(e=100);var c=function(){n=this,a=arguments,o=Date.now();var c=i&&!s;return s||(s=setTimeout(h,e)),c&&(r=t.apply(n,a),n=a=null),r};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(r=t.apply(n,a),n=a=null,clearTimeout(s),s=null)},c}g.debounce=g;var f=g,v=function(){return v=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},v.apply(this,arguments)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */};function b(t,e){var i,s;return t&&e?(i=""+t+e[0].toUpperCase()+e.slice(1),s=t+"-"+e):(i=t||e,s=t||e),{name:i,classname:s}}function w(t){return/^blob:/.test(t)}function y(t){return w(t)||function(t){return/^data:/.test(t)}(t)}function x(t){return!!(t&&t.constructor&&t.call&&t.apply)}function R(t){return void 0===t}function A(t){return"object"==typeof t&&null!==t}function S(t,e,i){var s={};return A(t)?(Object.keys(e).forEach((function(a){R(t[a])?s[a]=e[a]:A(e[a])?A(t[a])?s[a]=S(t[a],e[a],i[a]):s[a]=t[a]?e[a]:i[a]:!0===e[a]||!1===e[a]?s[a]=Boolean(t[a]):s[a]=t[a]})),s):t?e:i}function C(t){var e=Number(t);return Number.isNaN(e)?t:e}function z(t){return typeof("number"==t||function(t){return"object"==typeof t&&null!==t}(t)&&"[object Number]"==toString.call(t))&&!I(t)}function I(t){return t!=t}function E(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var M=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},T=function(t,e){void 0===e&&(e={}),this.type="resize",this.directions=t,this.params=e},k=function(t){this.type="move",this.directions=t},_=function(){function t(t,e,i,s,a){this.type="drag",this.nativeEvent=t,this.position=i,this.previousPosition=s,this.element=e,this.anchor=a}return t.prototype.shift=function(){var t=this,e=t.element,i=t.anchor,s=t.position,a=e.getBoundingClientRect(),n=a.left,o=a.top;return{left:s.left-n-i.left,top:s.top-o-i.top}},t}();function D(t,e,i,s,a,n,o,r,h,c){"boolean"!=typeof o&&(h=r,r=o,o=!1);const l="function"==typeof i?i.options:i;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),s&&(l._scopeId=s),n?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,h(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},l._ssrRegister=u):e&&(u=o?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(l.functional){const t=l.render;l.render=function(e,i){return u.call(i),t(e,i)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return i}var L=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"draggable",class:t.classname,on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&1===t.touches.length&&(this.touches=h(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce((function(e,i){return{clientX:e.clientX+i.clientX/t.touches.length,clientY:e.clientY+i.clientY/t.touches.length}}),{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),i=e.left,s=e.right,a=e.bottom,n=e.top;this.anchor={left:t.clientX-i,top:t.clientY-n,bottom:a-t.clientY,right:s-t.clientX}},processMove:function(t,e){var i=h(e);if(this.touches.length){if(1===this.touches.length&&1===i.length){var s=this.$refs.draggable;this.$emit("drag",new _(t,s,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}}}],props:{classname:{type:String}}},void 0,!1,void 0,!1,void 0,void 0,void 0),O=m("vue-handler-wrapper"),$=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("DraggableElement",{class:t.classes.draggable,on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)],1)},staticRenderFns:[]},void 0,{name:"HandlerWrapper",components:{DraggableElement:L},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,i=b(this.horizontalPosition,this.verticalPosition);t=O((o(e={},i.classname,!0),o(e,"disabled",this.disabled),e))}else t=O({disabled:this.disabled});return{root:t,draggable:O("draggable")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),F=m("vue-line-wrapper"),j=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DraggableElement",{class:t.classname,on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"LineWrapper",components:{DraggableElement:L},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return F((o(t={},this.position,!0),o(t,"disabled",this.disabled),t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P=["left","right","top","bottom"],B=["left","right"],W=["top","bottom"],H=["left","top"],U=["fill-area","fit-area","stencil","none"],N={left:0,top:0,width:0,height:0};function V(t,e,i){return!(i=i||["width","height","left","top"]).some((function(i){return t[i]!==e[i]}))}function Y(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function X(t,e){return{left:t.left-e.left,top:t.top-e.top}}function q(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function G(t,e){var i={left:0,top:0,right:0,bottom:0};return P.forEach((function(s){var a=e[s],n=Y(t)[s];i[s]=void 0!==a&&void 0!==n?"left"===s||"top"===s?Math.max(0,a-n):Math.max(0,n-a):0})),i}function Z(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function J(t){return{left:-t.left,top:-t.top}}function K(t,e){return v(v({},t),{left:t.left+e.left,top:t.top+e.top})}function Q(t,e,i,s){if(1!==e){if(i){var a=q(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(i.left-a.left)*(s||1-e),top:t.top+t.height*(1-e)/2+(i.top-a.top)*(s||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function tt(t){return t.width/t.height}function et(t,e){return Math.min(void 0!==e.right&&void 0!==e.left?(e.right-e.left)/t.width:1/0,void 0!==e.bottom&&void 0!==e.top?(e.bottom-e.top)/t.height:1/0)}function it(t,e){var i={left:0,top:0},s=G(t,e);return s.left&&s.left>0?i.left=s.left:s.right&&s.right>0&&(i.left=-s.right),s.top&&s.top>0?i.top=s.top:s.bottom&&s.bottom>0&&(i.top=-s.bottom),i}function st(t,e){var i;return e.minimum&&t<e.minimum?i=e.minimum:e.maximum&&t>e.maximum&&(i=e.maximum),i}function at(t,e){var i=tt(t),s=tt(e);return e.width<1/0&&e.height<1/0?i>s?{width:e.width,height:e.width/i}:{width:e.height*i,height:e.height}:e.width<1/0?{width:e.width,height:e.width/i}:e.height<1/0?{width:e.height*i,height:e.height}:t}function nt(t,e){var i=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(i))+Math.abs(t.height*Math.sin(i)),height:Math.abs(t.width*Math.sin(i))+Math.abs(t.height*Math.cos(i))}}function ot(t,e){var i=e*Math.PI/180;return{left:t.left*Math.cos(i)-t.top*Math.sin(i),top:t.left*Math.sin(i)+t.top*Math.cos(i)}}function rt(t,e){var i=G(ht(t,e),e);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((t.width+i.left+i.right)/t.width,et(t,e)):Math.min((t.height+i.top+i.bottom)/t.height,et(t,e)):1}function ht(t,e,i){void 0===i&&(i=!1);var s=it(t,e);return K(t,i?J(s):s)}function ct(t){return{width:void 0!==t.right&&void 0!==t.left?t.right-t.left:1/0,height:void 0!==t.bottom&&void 0!==t.top?t.bottom-t.top:1/0}}function lt(t,e){return v(v({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function ut(t,e,i){void 0===i&&(i=!0);var s={};return P.forEach((function(a){var n=t[a],o=e[a];void 0!==n&&void 0!==o?s[a]="left"===a||"top"===a?i?Math.max(n,o):Math.min(n,o):i?Math.min(n,o):Math.max(n,o):void 0!==o?s[a]=o:void 0!==n&&(s[a]=n)})),s}function dt(t,e){return ut(t,e,!0)}function pt(t){var e=t.size,i=t.aspectRatio,s=t.ignoreMinimum,a=t.sizeRestrictions;return Boolean((e.correctRatio||tt(e)>=i.minimum&&tt(e)<=i.maximum)&&e.height<=a.maxHeight&&e.width<=a.maxWidth&&e.width&&e.height&&(s||e.height>=a.minHeight&&e.width>=a.minWidth))}function mt(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function gt(t){var e=t.width,i=t.height,s=t.sizeRestrictions,a={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},n={width:Math.max(s.minWidth,Math.min(s.maxWidth,e)),height:Math.max(s.minHeight,Math.min(s.maxHeight,i))};function o(t,n){return void 0===n&&(n=!1),t.reduce((function(t,o){return pt({size:o,aspectRatio:a,sizeRestrictions:s,ignoreMinimum:n})&&(!t||mt(o,{width:e,height:i})<mt(t,{width:e,height:i}))?o:t}),null)}var r=[];a&&[a.minimum,a.maximum].forEach((function(t){t&&r.push({width:n.width,height:n.width/t,correctRatio:!0},{width:n.height*t,height:n.height,correctRatio:!0})})),pt({size:n,aspectRatio:a,sizeRestrictions:s})&&r.push(n);var h=o(r)||o(r,!0);return h&&{width:h.width,height:h.height}}function ft(t){var e=t.event,i=t.coordinates,s=t.positionRestrictions,a=void 0===s?{}:s,n=K(i,e.directions);return K(n,it(n,a))}function vt(t){var e=t.coordinates,i=t.transform,s=t.imageSize,a=t.sizeRestrictions,n=t.positionRestrictions,o=t.aspectRatio,r=t.visibleArea,h=function(t,e){return ft({coordinates:t,positionRestrictions:n,event:new k({left:e.left-t.left,top:e.top-t.top})})},c=v({},e);return(Array.isArray(i)?i:[i]).forEach((function(t){var e={};R((e="function"==typeof t?t({coordinates:c,imageSize:s,visibleArea:r}):t).width)&&R(e.height)||(c=function(t,e){var i=v(v(v({},t),gt({width:e.width,height:e.height,sizeRestrictions:a,aspectRatio:o})),{left:0,top:0});return h(i,{left:t.left,top:t.top})}(c,v(v({},c),e))),R(e.left)&&R(e.top)||(c=h(c,v(v({},c),e)))})),c}function bt(t){t.event;var e=t.getAreaRestrictions,i=t.boundaries,s=t.coordinates,a=t.visibleArea;t.aspectRatio;var n=t.stencilSize,o=t.sizeRestrictions,r=t.positionRestrictions;t.stencilReference;var h,c,l,u=v({},s),d=v({},a),p=v({},n);h=tt(p),c=tt(u),void 0===l&&(l=.001),(0===h||0===c?Math.abs(c-h)<l:Math.abs(c/h)<1+l&&Math.abs(c/h)>1-l)||(u=v(v({},u),gt({sizeRestrictions:o,width:u.width,height:u.height,aspectRatio:{minimum:tt(p),maximum:tt(p)}})));var m=rt(d=Q(d,u.width*i.width/(d.width*p.width)),e({visibleArea:d,type:"resize"}));return 1!==m&&(d=Q(d,m),u=Q(u,m)),d=ht(d=K(d,X(q(u),q(d))),e({visibleArea:d,type:"move"})),{coordinates:u=ht(u,dt(Y(d),r)),visibleArea:d}}function wt(t){var e=t.event,i=t.getAreaRestrictions,s=t.boundaries,a=t.coordinates,n=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var o=t.positionRestrictions;t.stencilReference;var r=v({},a),h=v({},n);if(a&&n&&"manipulateImage"!==e.type){var c={width:0,height:0};h.width,s.width,tt(s)>tt(r)?(c.height=.8*s.height,c.width=c.height*tt(r)):(c.width=.8*s.width,c.height=c.width*tt(r));var l=rt(h=Q(h,r.width*s.width/(h.width*c.width)),i({visibleArea:h,type:"resize"}));h=Q(h,l),1!==l&&(c.height/=l,c.width/=l),h=ht(h=K(h,X(q(r),q(h))),i({visibleArea:h,type:"move"})),r=ht(r,dt(Y(h),o))}return{coordinates:r,visibleArea:h}}function yt(t){var e=t.event,i=t.coordinates,s=t.visibleArea,a=t.getAreaRestrictions,n=v({},s),o=v({},i);if("setCoordinates"===e.type){var r=Math.max(0,o.width-n.width),h=Math.max(0,o.height-n.height);r>h?n=Q(n,Math.min(o.width/n.width,et(n,a({visibleArea:n,type:"resize"})))):h>r&&(n=Q(n,Math.min(o.height/n.height,et(n,a({visibleArea:n,type:"resize"}))))),n=ht(n=K(n,J(it(o,Y(n)))),a({visibleArea:n,type:"move"}))}return{visibleArea:n,coordinates:o}}function xt(t){var e=t.imageSize,i=t.visibleArea,s=t.aspectRatio,a=t.sizeRestrictions,n=i||e,o=Math.min(s.maximum||1/0,Math.max(s.minimum||0,tt(n))),r=n.width<n.height?{width:.8*n.width,height:.8*n.width/o}:{height:.8*n.height,width:.8*n.height*o};return gt(v(v({},r),{aspectRatio:s,sizeRestrictions:a}))}function Rt(t){var e,i,s=t.imageSize,a=t.visibleArea,n=t.boundaries,o=t.aspectRatio,r=t.sizeRestrictions,h=t.stencilSize,c=a||s;return tt(c)>tt(n)?i=(e=h.height*c.height/n.height)*tt(h):e=(i=h.width*c.width/n.width)/tt(h),gt({width:i,height:e,aspectRatio:o,sizeRestrictions:r})}function At(t,e){return ut(t,Y(e))}function St(t){var e=t.event,i=t.coordinates,s=t.visibleArea,a=t.sizeRestrictions,n=t.getAreaRestrictions,o=t.positionRestrictions,r=t.adjustStencil,h=e.scale,c=e.move,l=v({},s),u=v({},i),d=1,p=1,m=h.factor&&Math.abs(h.factor-1)>.001;l=K(l,{left:c.left||0,top:c.top||0});var g={stencil:{minimum:Math.max(a.minWidth?a.minWidth/u.width:0,a.minHeight?a.minHeight/u.height:0),maximum:Math.min(a.maxWidth?a.maxWidth/u.width:1/0,a.maxHeight?a.maxHeight/u.height:1/0,et(u,o))},area:{maximum:et(l,n({visibleArea:l,type:"resize"}))}};h.factor&&m&&(h.factor<1?(p=Math.max(h.factor,g.stencil.minimum))>1&&(p=1):h.factor>1&&(p=Math.min(h.factor,Math.min(g.area.maximum,g.stencil.maximum)))<1&&(p=1)),p&&(l=Q(l,p,h.center));var f=i.left-s.left,b=s.width+s.left-(i.width+i.left),w=i.top-s.top,y=s.height+s.top-(i.height+i.top);return l=ht(l=K(l,it(l,{left:void 0!==o.left?o.left-f*p:void 0,top:void 0!==o.top?o.top-w*p:void 0,bottom:void 0!==o.bottom?o.bottom+y*p:void 0,right:void 0!==o.right?o.right+b*p:void 0})),n({visibleArea:l,type:"move"})),u.width=u.width*p,u.height=u.height*p,u.left=l.left+f*p,u.top=l.top+w*p,u=ht(u,dt(Y(l),o)),h.factor&&m&&r&&(h.factor>1?d=Math.min(g.area.maximum,h.factor)/p:h.factor<1&&(d=Math.max(u.height/l.height,u.width/l.width,h.factor/p)),1!==d&&(l=K(l=ht(l=Q(l,d,h.factor>1?h.center:q(u)),n({visibleArea:l,type:"move"})),J(it(u,Y(l)))))),{coordinates:u,visibleArea:l}}function Ct(t){var e=t.aspectRatio,i=t.getAreaRestrictions,s=t.coordinates,a=t.visibleArea,n=t.sizeRestrictions,o=t.positionRestrictions,r=t.imageSize,h=t.previousImageSize,c=t.angle,l=v({},s),u=v({},a),d=ot(q(v({left:0,top:0},h)),c);return(l=v(v({},gt({sizeRestrictions:n,aspectRatio:e,width:l.width,height:l.height})),ot(q(l),c))).left-=d.left-r.width/2+l.width/2,l.top-=d.top-r.height/2+l.height/2,u=Q(u,rt(u,i({visibleArea:u,type:"resize"}))),{coordinates:l=ht(l,o),visibleArea:u=ht(u=K(u,X(q(l),q(s))),i({visibleArea:u,type:"move"}))}}function zt(t){var e=t.flip,i=t.previousFlip,s=t.rotate;t.aspectRatio;var a=t.getAreaRestrictions,n=t.coordinates,o=t.visibleArea,r=t.imageSize,h=v({},n),c=v({},o),l=i.horizontal!==e.horizontal,u=i.vertical!==e.vertical;if(l||u){var d=ot({left:r.width/2,top:r.height/2},-s),p=ot(q(h),-s),m=ot({left:l?d.left-(p.left-d.left):p.left,top:u?d.top-(p.top-d.top):p.top},s);h=K(h,X(m,q(h))),p=ot(q(c),-s),c=ht(c=K(c,X(m=ot({left:l?d.left-(p.left-d.left):p.left,top:u?d.top-(p.top-d.top):p.top},s),q(c))),a({visibleArea:c,type:"move"}))}return{coordinates:h,visibleArea:c}}function It(t){var e=t.directions,i=t.coordinates,s=t.positionRestrictions,a=void 0===s?{}:s,n=t.sizeRestrictions,o=t.preserveRatio,r=t.compensate,h=v({},e),c=Z(i,h).width,l=Z(i,h).height;c<0&&(h.left<0&&h.right<0?(h.left=-(i.width-n.minWidth)/(h.left/h.right),h.right=-(i.width-n.minWidth)/(h.right/h.left)):h.left<0?h.left=-(i.width-n.minWidth):h.right<0&&(h.right=-(i.width-n.minWidth))),l<0&&(h.top<0&&h.bottom<0?(h.top=-(i.height-n.minHeight)/(h.top/h.bottom),h.bottom=-(i.height-n.minHeight)/(h.bottom/h.top)):h.top<0?h.top=-(i.height-n.minHeight):h.bottom<0&&(h.bottom=-(i.height-n.minHeight)));var u=G(Z(i,h),a);r&&(u.left&&u.left>0&&0===u.right?(h.right+=u.left,h.left-=u.left):u.right&&u.right>0&&0===u.left&&(h.left+=u.right,h.right-=u.right),u.top&&u.top>0&&0===u.bottom?(h.bottom+=u.top,h.top-=u.top):u.bottom&&u.bottom>0&&0===u.top&&(h.top+=u.bottom,h.bottom-=u.bottom),u=G(Z(i,h),a));var d={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(P.forEach((function(t){var e=u[t];e&&h[t]&&(d[t]=Math.max(0,1-e/h[t]))})),o){var p=Math.min.apply(null,P.map((function(t){return d[t]})));p!==1/0&&P.forEach((function(t){h[t]*=p}))}else P.forEach((function(t){d[t]!==1/0&&(h[t]*=d[t])}));if(c=Z(i,h).width,l=Z(i,h).height,h.right+h.left&&(c>n.maxWidth?d.width=(n.maxWidth-i.width)/(h.right+h.left):c<n.minWidth&&(d.width=(n.minWidth-i.width)/(h.right+h.left))),h.bottom+h.top&&(l>n.maxHeight?d.height=(n.maxHeight-i.height)/(h.bottom+h.top):l<n.minHeight&&(d.height=(n.minHeight-i.height)/(h.bottom+h.top))),o){var m=Math.min(d.width,d.height);m!==1/0&&P.forEach((function(t){h[t]*=m}))}else d.width!==1/0&&B.forEach((function(t){h[t]*=d.width})),d.height!==1/0&&W.forEach((function(t){h[t]*=d.height}));return h}function Et(t,e,i){return 0==e&&0==i?t/2:0==e?0:0==i?t:t*Math.abs(e/(e+i))}var Mt=m("vue-simple-handler"),Tt=m("vue-simple-handler-wrapper"),kt=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("HandlerWrapper",{class:t.classes.wrapper,attrs:{"vertical-position":t.verticalPosition,"horizontal-position":t.horizontalPosition,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.default})])},staticRenderFns:[]},void 0,{name:"SimpleHandler",components:{HandlerWrapper:$},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(o(t={},this.horizontalPosition,Boolean(this.horizontalPosition)),o(t,this.verticalPosition,Boolean(this.verticalPosition)),o(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),o(t,"hover",this.hover),t);return{default:p(Mt(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(Tt(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),_t=m("vue-simple-line"),Dt=m("vue-simple-line-wrapper"),Lt=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("LineWrapper",{class:t.classes.wrapper,attrs:{position:t.position,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.root})])},staticRenderFns:[]},void 0,{name:"SimpleLine",components:{LineWrapper:j},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:p(_t(o({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(Dt(o({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ot=m("vue-bounding-box"),$t=["east","west",null],Ft=["south","north",null],jt=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"box",class:t.classes.root,style:t.style},[t._t("default"),t._v(" "),i("div",t._l(t.lineNodes,(function(e){return i(e.component,{key:e.name,tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,position:e.name,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})})),1),t._v(" "),t._l(t.handlerNodes,(function(e){return i("div",{key:e.name,class:e.wrapperClass,style:e.wrapperStyle},[i(e.component,{tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,"horizontal-position":e.horizontalDirection,"vertical-position":e.verticalDirection,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return kt}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Lt}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return $t.forEach((function(e){Ft.forEach((function(i){if(e!==i){var s=b(e,i),a=s.name,n=s.classname;t.push({name:a,classname:n,verticalDirection:i,horizontalDirection:e})}}))})),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,i=this.linesClasses,s=this.linesWrappersClasses;return{root:Ot(),handlers:t,handlersWrappers:e,lines:i,linesWrappers:s}},lineNodes:function(){var t=this,e=[];return this.points.forEach((function(i){i.horizontalDirection&&i.verticalDirection||!t.lines[i.name]||e.push({name:i.name,component:t.linesComponent,class:p(t.classes.lines.default,t.classes.lines[i.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:p(t.classes.linesWrappers.default,t.classes.linesWrappers[i.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!t.resizable})})),e},handlerNodes:function(){var t=this,e=[],i=this.width,s=this.height;return this.points.forEach((function(a){if(t.handlers[a.name]){var n={name:a.name,component:t.handlersComponent,class:p(t.classes.handlers.default,t.classes.handlers[a.name]),wrapperClass:p(t.classes.handlersWrappers.default,t.classes.handlersWrappers[a.name]),hoverClass:t.classes.handlers.hover,verticalDirection:a.verticalDirection,horizontalDirection:a.horizontalDirection,disabled:!t.resizable};if(i&&s){var r=a.horizontalDirection,h=a.verticalDirection,c="east"===r?i:"west"===r?0:i/2,l="south"===h?s:"north"===h?0:s/2;n.wrapperClass=Ot("handler"),n.wrapperStyle={transform:"translate(".concat(c,"px, ").concat(l,"px)")},t.transitions&&t.transitions.enabled&&(n.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else n.wrapperClass=Ot("handler",o({},a.classname,!0));e.push(n)}})),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,i){var s,a=t.shift(),n=a.left,o=a.top,r={left:0,right:0,top:0,bottom:0};"west"===e?r.left-=n:"east"===e&&(r.right+=n),"north"===i?r.top-=o:"south"===i&&(r.bottom+=o),!i&&e?s="width":i&&!e&&(s="height"),this.resizable&&this.$emit("resize",new T(r,{allowedDirections:{left:"west"===e||!e,right:"east"===e||!e,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:s}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Pt=m("vue-draggable-area"),Bt=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Pt()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&1===t.touches.length;e&&(this.touches=h(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):E({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),i=e.left,s=e.top;this.anchor={x:t.clientX-i,y:t.clientY-s}},processMove:function(t,e){var i=h(e);if(this.touches.length){var s=this.$refs.container.getBoundingClientRect(),a=s.left,n=s.top;1===this.touches.length&&1===i.length&&this.$emit("move",new k({left:i[0].clientX-(a+this.anchor.x),top:i[0].clientY-(n+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Wt(t){var e,i;return{rotate:t.rotate||0,flip:{horizontal:(null===(e=null==t?void 0:t.flip)||void 0===e?void 0:e.horizontal)||!1,vertical:(null===(i=null==t?void 0:t.flip)||void 0===i?void 0:i.vertical)||!1}}}function Ht(t){return new Promise((function(e,i){try{if(t)if(/^data:/i.test(t))e(function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),i=e.length,s=new ArrayBuffer(i),a=new Uint8Array(s),n=0;n<i;n++)a[n]=e.charCodeAt(n);return s}(t));else if(/^blob:/i.test(t)){var s=new FileReader;s.onload=function(t){e(t.target.result)},n=t,o=function(t){s.readAsArrayBuffer(t)},(r=new XMLHttpRequest).open("GET",n,!0),r.responseType="blob",r.onload=function(){200!=this.status&&0!==this.status||o(this.response)},r.send()}else{var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status||0===a.status?e(a.response):i("Warning: could not load an image to parse its orientation"),a=null)},a.onprogress=function(){"image/jpeg"!==a.getResponseHeader("content-type")&&a.abort()},a.withCredentials=!1,a.open("GET",t,!0),a.responseType="arraybuffer",a.send(null)}else i("Error: the image is empty")}catch(t){i(t)}var n,o,r}))}function Ut(t){var e=t.rotate,i=t.flip,s=t.scaleX,a=t.scaleY,n="";return n+=" rotate("+e+"deg) ",n+=" scaleX("+s*(i.horizontal?-1:1)+") ",n+" scaleY("+a*(i.vertical?-1:1)+") "}function Nt(t){try{var e,i=new DataView(t),s=void 0,a=void 0,n=void 0,o=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,h=2;h+1<r;){if(255===i.getUint8(h)&&225===i.getUint8(h+1)){n=h;break}h++}if(n&&(s=n+10,"Exif"===function(t,e,i){var s,a="";for(s=e,i+=e;s<i;s++)a+=String.fromCharCode(t.getUint8(s));return a}(i,n+4,4))){var c=i.getUint16(s);if(((a=18761===c)||19789===c)&&42===i.getUint16(s+2,a)){var l=i.getUint32(s+4,a);l>=8&&(o=s+l)}}if(o)for(var u=i.getUint16(o,a),d=0;d<u;d++)if(h=o+12*d+2,274===i.getUint16(h,a)){h+=8,e=i.getUint16(h,a),i.setUint16(h,1,a);break}return e}catch(t){return null}}var Vt=m("vue-preview-result");D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image.src}})])])},staticRenderFns:[]},void 0,{name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:Vt(),wrapper:Vt("wrapper"),imageWrapper:Vt("image-wrapper"),image:p(Vt("image"),this.imageClass)}},wrapperStyle:function(){var t={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){var t=this.image.transforms,e=nt({width:this.image.width,height:this.image.height},t.rotate),i={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},s={left:(this.image.width-e.width)*t.scaleX/2,top:(this.image.height-e.height)*t.scaleY/2},a={left:(1-t.scaleX)*this.image.width/2,top:(1-t.scaleY)*this.image.height/2};return i.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-t.translateX-s.left-a.left,"px,").concat(-this.stencilCoordinates.top-t.translateY-s.top-a.top,"px) ")+Ut(t),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Yt(t,e){var i=e.getBoundingClientRect(),s=i.left,a=i.top,n={left:0,top:0},o=0;return t.forEach((function(e){n.left+=(e.clientX-s)/t.length,n.top+=(e.clientY-a)/t.length})),t.forEach((function(t){o+=E({x:n.left,y:n.top},{x:t.clientX-s,y:t.clientY-a})})),{centerMass:n,spread:o,count:t.length}}var Xt=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,wheel:t.onWheel}},[t._t("default")],2)},staticRenderFns:[]},void 0,{props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=f(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(1===this.touches.length&&1===e.length)this.$emit("move",new M({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=Yt(e,this.$refs.container),s=this.oldGeometricProperties;s.count===i.count&&s.count>1&&this.$emit("resize",new M({left:s.centerMass.left-i.centerMass.left,top:s.centerMass.top-i.centerMass.top},{factor:s.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?!1!==this.eventsFilter(t,this.transforming):(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,i=e.getBoundingClientRect(),s=i.left,a=i.top,n=i.bottom,o=i.right;this.touches=h(t.touches).filter((function(t){return t.clientX>s&&t.clientX<o&&t.clientY>a&&t.clientY<n})),this.oldGeometricProperties=Yt(this.touches,e)}},onTouchEnd:function(t){0===t.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var i=h(t.touches).filter((function(t){return!t.identifier||e.touches.find((function(e){return e.identifier===t.identifier}))}));this.processEvent(t)&&(this.processMove(t,i),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&1===t.buttons&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),i=e.left,s=e.top,a=1+this.wheelResize.ratio*(o=t.deltaY||t.detail||t.wheelDelta,0===(r=+o)||I(r)?r:r>0?1:-1),n={left:t.clientX-i,top:t.clientY-s};this.$emit("resize",new M({},{factor:a,center:n})),this.touches.length||this.debouncedProcessEnd()}var o,r}}},void 0,!1,void 0,!1,void 0,void 0,void 0),qt=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("transformable-image",{attrs:{"touch-move":t.touchMove,"touch-resize":t.touchResize,"mouse-move":t.mouseMove,"wheel-resize":t.wheelResize},on:{move:function(e){return t.$emit("move",e)},resize:function(e){return t.$emit("resize",e)}}},[t._t("default")],2)},staticRenderFns:[]},void 0,{components:{TransformableImage:Xt},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Gt=m("vue-preview"),Zt=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"root",class:t.classes.root,style:t.style},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.image&&t.image.src,expression:"image && image.src"}],ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image&&t.image.src}})])])},staticRenderFns:[]},void 0,{props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Gt({fill:this.fill}),wrapper:Gt("wrapper"),imageWrapper:Gt("image-wrapper"),image:p(Gt("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=n(n({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),i=this.imageSize.width,s=this.imageSize.height,a=nt({width:i,height:s},e.rotate),o={width:"".concat(i,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},r={rotate:{left:(i-a.width)*e.scaleX/2,top:(s-a.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*i/2,top:(1-e.scaleY)*s/2}};return o.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/t-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/t-r.rotate.top-r.scale.top,"px) ")+Ut(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){t.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Jt=D({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("preview",t._b({attrs:{fill:!0}},"preview",t.$attrs,!1))},staticRenderFns:[]},void 0,{components:{Preview:Zt},inheritAttrs:!1},void 0,!1,void 0,!1,void 0,void 0,void 0),Kt=m("vue-rectangle-stencil"),Qt=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"RectangleStencil",components:{StencilPreview:Jt,BoundingBox:jt,DraggableArea:Bt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return kt}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Lt}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:p(Kt({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:p(Kt("preview"),this.previewClass),boundingBox:p(Kt("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,s=t.left,a=t.top,n={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(s,"px, ").concat(a,"px)")};return this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),te=m("vue-circle-stencil"),ee=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{components:{StencilPreview:Jt,BoundingBox:jt,DraggableArea:Bt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return kt}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Lt}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:p(te({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:p(te("preview"),this.previewClass),boundingBox:p(te("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,s=t.left,a=t.top,n={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(s,"px, ").concat(a,"px)")};return this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),ie=["transitions"],se=m("vue-advanced-cropper"),ae={name:"Cropper",components:{BackgroundWrapper:qt},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Qt}},backgroundWrapperComponent:{type:[Object,String],default:function(){return qt}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return-1!==U.indexOf(t)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object],default:function(t){var e=t.imageSize,i=t.visibleArea,s=t.coordinates,a=i||e;return{left:(i?i.left:0)+a.width/2-s.width/2,top:(i?i.top:0)+a.height/2-s.height/2}}},defaultVisibleArea:{type:[Function,Object],default:function(t){var e=t.getAreaRestrictions,i=t.coordinates,s=t.imageSize,a=tt(t.boundaries);if(i){var n={height:Math.max(i.height,s.height),width:Math.max(i.width,s.width)},o=at({width:tt(n)>a?n.width:n.height*a,height:tt(n)>a?n.width/a:n.height},ct(e())),r={left:i.left+i.width/2-o.width/2,top:i.top+i.height/2-o.height/2,width:o.width,height:o.height},h=G(i,Y(v({left:0,top:0},s))),c={};return!h.left&&!h.right&&r.width<=s.width&&(c.left=0,c.right=s.width),!h.top&&!h.bottom&&r.height<=s.height&&(c.top=0,c.bottom=s.height),ht(r,c)}var l=tt(s);return o={height:l>a?s.height:s.width/a,width:l>a?s.height*a:s.width},{left:s.width/2-o.width/2,top:s.height/2-o.height/2,width:o.width,height:o.height}}},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!("string"==typeof t&&"fill"!==t&&"fit"!==t)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,i=t.coordinates,s=t.aspectRatio,a=t.positionRestrictions,n=t.sizeRestrictions,o=v(v({},i),{right:i.left+i.width,bottom:i.top+i.height}),r=e.params||{},h=v({},e.directions),c=r.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};n.widthFrozen&&(h.left=0,h.right=0),n.heightFrozen&&(h.top=0,h.bottom=0),P.forEach((function(t){c[t]||(h[t]=0)}));var l=Z(o,h=It({coordinates:o,directions:h,sizeRestrictions:n,positionRestrictions:a})).width,u=Z(o,h).height,d=r.preserveRatio?tt(o):st(l/u,s);if(d){var p=r.respectDirection;if(p||(p=o.width>=o.height||1===d?"width":"height"),"width"===p){var m=l/d-o.height;if(c.top&&c.bottom){var g=h.top,f=h.bottom;h.bottom=Et(m,f,g),h.top=Et(m,g,f)}else c.bottom?h.bottom=m:c.top?h.top=m:c.right?h.right=0:c.left&&(h.left=0)}else if("height"===p){var b=o.width-u*d;if(c.left&&c.right){var w=h.left,y=h.right;h.left=-Et(b,w,y),h.right=-Et(b,y,w)}else c.left?h.left=-b:c.right?h.right=-b:c.top?h.top=0:c.bottom&&(h.bottom=0)}h=It({directions:h,coordinates:o,sizeRestrictions:n,positionRestrictions:a,preserveRatio:!0,compensate:r.compensate})}return l=Z(o,h).width,u=Z(o,h).height,(d=r.preserveRatio?tt(o):st(l/u,s))&&Math.abs(d-l/u)>.001&&P.forEach((function(t){c[t]||(h[t]=0)})),ft({event:new k({left:-h.left,top:-h.top}),coordinates:{width:i.width+h.right+h.left,height:i.height+h.top+h.bottom,left:i.left,top:i.top},positionRestrictions:a})}},moveAlgorithm:{type:Function,default:ft},initStretcher:{type:Function,default:function(t){var e=t.stretcher,i=t.imageSize,s=tt(i);e.style.width=i.width+"px",e.style.height=e.clientWidth/s+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,i=t.coordinates,s=t.aspectRatio,a=t.sizeRestrictions,n=t.positionRestrictions,o=v(v({},i),gt({width:i.width,height:i.height,aspectRatio:s,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,a.minHeight),minWidth:Math.min(e.width,a.minWidth)}}));return ht(o=K(o,X(q(i),q(o))),dt(Y(e),n))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,s=t.getAreaRestrictions,a=t.coordinates,n=v({},e);n.height=n.width/tt(i),n.top+=(e.height-n.height)/2,(a.height-n.height>0||a.width-n.width>0)&&(n=Q(n,Math.max(a.height/n.height,a.width/n.width)));var o=J(it(a,Y(n=Q(n,rt(n,s({visibleArea:n,type:"resize"}))))));return n.width<a.width&&(o.left=0),n.height<a.height&&(o.top=0),ht(n=K(n,o),s({visibleArea:n,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,s=t.imageSize,a=t.imageRestriction,n=t.type,o={};return"fill-area"===a?o={left:0,top:0,right:s.width,bottom:s.height}:"fit-area"===a&&(tt(i)>tt(s)?(o={top:0,bottom:s.height},e&&"move"===n&&(e.width>s.width?(o.left=-(e.width-s.width)/2,o.right=s.width-o.left):(o.left=0,o.right=s.width))):(o={left:0,right:s.width},e&&"move"===n&&(e.height>s.height?(o.top=-(e.height-s.height)/2,o.bottom=s.height-o.top):(o.top=0,o.bottom=s.height)))),o}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,i={};return"none"!==t.imageRestriction&&(i={left:0,top:0,right:e.width,bottom:e.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:!1,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:n({},N)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var t=S(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:S(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:R(this.minWidth)?0:C(this.minWidth),minHeight:R(this.minHeight)?0:C(this.minHeight),maxWidth:R(this.maxWidth)?1/0:C(this.maxWidth),maxHeight:R(this.maxHeight)?1/0:C(this.maxHeight)});if(t=function(t){var e=t.areaRestrictions,i=t.sizeRestrictions;t.imageSize;var s=t.boundaries,a=t.positionRestrictions;t.imageRestriction;var n=v(v({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0});void 0!==a.left&&void 0!==a.right&&(n.maxWidth=Math.min(n.maxWidth,a.right-a.left)),void 0!==a.bottom&&void 0!==a.top&&(n.maxHeight=Math.min(n.maxHeight,a.bottom-a.top));var o=ct(e),r=at(s,o);return o.width<1/0&&(!n.maxWidth||n.maxWidth>r.width)&&(n.maxWidth=Math.min(n.maxWidth,r.width)),o.height<1/0&&(!n.maxHeight||n.maxHeight>r.height)&&(n.maxHeight=Math.min(n.maxHeight,r.height)),n.minWidth>n.maxWidth&&(n.minWidth=n.maxWidth,n.widthFrozen=!0),n.minHeight>n.maxHeight&&(n.minHeight=n.maxHeight,n.heightFrozen=!0),n}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),i=ct(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,i.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,i.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:se(),image:p(se("image"),this.imageClass),stencil:se("stencil"),boundaries:p(se("boundaries"),this.boundariesClass),stretcher:p(se("stretcher")),background:p(se("background"),this.backgroundClass),foreground:p(se("foreground"),this.foregroundClass),imageWrapper:p(se("image-wrapper")),cropperWrapper:p(se("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,i=t.height,s=t.left,a=t.top;return{width:e/this.coefficient,height:i/this.coefficient,left:(s-this.visibleArea.left)/this.coefficient,top:(a-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},s=n(n({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),a={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-i.left-this.imageTransforms.translateX,"px, ").concat(-e.top-i.top-this.imageTransforms.translateY,"px)")+Ut(s)};return this.transitionsOptions.enabled&&(a.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),a}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick((function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(i){return t[i]!==e[i]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=f(this.update,this.debounce),this.debouncedDisableTransitions=f(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(n({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:n({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?n({},this.visibleArea):null,imageTransforms:e,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?n({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.transitions,a=void 0===s||s;this.onManipulateImage(new M({},{factor:1/t,center:e}),{normalize:!1,transitions:a})},move:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.transitions,a=void 0===s||s;this.onManipulateImage(new M({left:t||0,top:e||0}),{normalize:!1,transitions:a})},setCoordinates:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.autoZoom,a=void 0===s||s,n=i.transitions,o=void 0===n||n;this.$nextTick((function(){e.imageLoaded?(e.transitionsActive||(o&&e.enableTransitions(),e.coordinates=e.applyTransform(t),a&&e.runAutoZoom("setCoordinates"),o&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t}))},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then((function(){t.onChange()})):this.resetVisibleArea().then((function(){t.onChange()}))},reset:function(){var t=this;return this.resetVisibleArea().then((function(){t.onChange(!1)}))},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){t(),e.awaiting=!1})))},prepareResult:function(t){return this.roundResult?function(t){var e=t.coordinates,i=t.sizeRestrictions,s=t.positionRestrictions,a={width:Math.round(e.width),height:Math.round(e.height),left:Math.round(e.left),top:Math.round(e.top)};return a.width>i.maxWidth?a.width=Math.floor(e.width):a.width<i.minWidth&&(a.width=Math.ceil(e.width)),a.height>i.maxHeight?a.height=Math.floor(e.height):a.height<i.minHeight&&(a.height=Math.ceil(e.height)),ht(a,s)}(n(n({},this.getPublicProperties()),{},{positionRestrictions:At(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,i,s){var a=this.autoZoomAlgorithm;a||(a=this.stencilSize?bt:this.autoZoom?wt:yt);var o=a({event:{type:t,params:s},visibleArea:e,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return n(n({},o),{},{changed:!V(o.visibleArea,e)||!V(o.coordinates,i)})},runAutoZoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transitions,s=void 0!==i&&i,a=r(e,ie),n=this.processAutoZoom(t,this.visibleArea,this.coordinates,a),o=n.visibleArea,h=n.coordinates,c=n.changed;s&&c&&this.enableTransitions(),this.visibleArea=o,this.coordinates=h,s&&c&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(t){var e=t.event,i=t.visibleArea,s=t.coefficient;if("manipulateImage"===e.type)return v(v({},e),{move:{left:e.move&&e.move.left?s*e.move.left:0,top:e.move&&e.move.top?s*e.move.top:0},scale:{factor:e.scale&&e.scale.factor?e.scale.factor:1,center:e.scale&&e.scale.center?{left:e.scale.center.left*s+i.left,top:e.scale.center.top*s+i.top}:null}});if("resize"===e.type){var a=v(v({},e),{directions:v({},e.directions)});return P.forEach((function(t){a.directions[t]*=s})),a}if("move"===e.type){var n=v(v({},e),{directions:v({},e.directions)});return H.forEach((function(t){n.directions[t]*=s})),n}return e}(n(n({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,i=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(t,e,i){var s=i.rotate,a=i.flip,n={width:e.naturalWidth,height:e.naturalHeight},o=nt(n,s),r=t.getContext("2d");t.height=o.height,t.width=o.width,r.save();var h=ot(q(v({left:0,top:0},n)),s);return r.translate(-(h.left-o.width/2),-(h.top-o.height/2)),r.rotate(s*Math.PI/180),r.translate(a.horizontal?n.width:0,a.vertical?n.height:0),r.scale(a.horizontal?-1:1,a.vertical?-1:1),r.drawImage(e,0,0,n.width,n.height),r.restore(),t}(this.$refs.sourceCanvas,e,this.imageTransforms):e,s=n({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),a=function(t){return t.find((function(t){return e=t,!Number.isNaN(parseFloat(e))&&isFinite(e);var e}))},o=gt({sizeRestrictions:{minWidth:a([s.width,s.minWidth])||0,minHeight:a([s.height,s.minHeight])||0,maxWidth:a([s.width,s.maxWidth])||1/0,maxHeight:a([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&o.width*o.height>s.maxArea){var r=Math.sqrt(s.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return function(t,e,i,s,a){t.width=s?s.width:i.width,t.height=s?s.height:i.height;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),a&&(a.imageSmoothingEnabled&&(n.imageSmoothingEnabled=a.imageSmoothingEnabled),a.imageSmoothingQuality&&(n.imageSmoothingQuality=a.imageSmoothingQuality),a.fillColor&&(n.fillStyle=a.fillColor,n.fillRect(0,0,t.width,t.height),n.save()));var o=i.left<0?-i.left:0,r=i.top<0?-i.top:0;n.drawImage(e,i.left+o,i.top+r,i.width,i.height,o,r,t.width,t.height)}(t,i,this.coordinates,o,s),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.visibleArea&&e?lt(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,s=this.visibleArea&&e?At(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return vt({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:s,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?Rt:xt);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var s=[x(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,function(e){var i=e.coordinates;return n({},x(t.defaultPosition)?t.defaultPosition({coordinates:i,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,h(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout((function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then((function(){var e={cropper:i,imageSize:t.imageSize};if(x(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(e):"fit"===t.defaultBoundaries?t.boundaries=function(t){var e=t.cropper,i=t.imageSize,s=e.clientHeight,a=e.clientWidth,n=s,o=i.width*s/i.height;return o>a&&(o=a,n=i.height*a/i.width),{width:o,height:n}}(e):t.boundaries=function(t){var e=t.cropper;return{width:e.clientWidth,height:e.clientHeight}}(e),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=n(n({},this.defaultImageTransforms),{},{flip:n({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){var e,i,s,a,n,o;"visible-area"!==t.priority&&(t.visibleArea=null,t.resetCoordinates()),t.visibleArea=x(t.defaultVisibleArea)?t.defaultVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:"visible-area"!==t.priority?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},i=e.visibleArea,s=e.boundaries,a=e.getAreaRestrictions,n=v({},i),o=tt(s),n.width/n.height!==o&&(n.height=n.width/o),ht(n,a({visibleArea:n,type:"move"}))),"visible-area"===t.priority?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")})).catch((function(){t.visibleArea=null}))},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then((function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")})).catch((function(){t.visibleArea=null}))},onChange:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$listeners&&this.$listeners.change&&(t&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(t){if(y(t))return!1;var e=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[],s={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},a=function(t){return t.port||("http"===(t.protocol||e.protocol)?80:433)};return!(!s.protocol&&!s.host&&!s.port||Boolean(s.protocol&&s.protocol==e.protocol&&s.host&&s.host==e.host&&s.host&&a(s)==a(e)))}(this.src)){var i=R(this.crossOrigin)?this.canvas:this.crossOrigin;!0===i&&(i="anonymous"),this.imageAttributes.crossOrigin=i}if(this.checkOrientation){var s=(t=this.src,new Promise((function(e){Ht(t).then((function(i){var s=Nt(i);e(i?{source:t,arrayBuffer:i,orientation:s}:{source:t,arrayBuffer:null,orientation:null})})).catch((function(i){console.warn(i),e({source:t,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){s.then(e.onParseImage)}),this.transitionTime)}else setTimeout((function(){e.onParseImage({source:e.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){t.$emit("ready"),t.onChange(!1)})))},onParseImage:function(t){var e=this,i=t.source,s=t.arrayBuffer,a=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&a&&a>1?w(i)||!y(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(t){for(var e=[],i=new Uint8Array(t);i.length>0;){var s=i.subarray(0,8192);e.push(String.fromCharCode.apply(null,Array.from?Array.from(s):s.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(e.join(""))}(s):this.imageAttributes.src=i,x(this.defaultTransforms)?this.appliedImageTransforms=Wt(this.defaultTransforms()):A(this.defaultTransforms)?this.appliedImageTransforms=Wt(this.defaultTransforms):this.appliedImageTransforms=function(t){var e=Wt({});if(t)switch(t){case 2:e.flip.horizontal=!0;break;case 3:e.rotate=-180;break;case 4:e.flip.vertical=!0;break;case 5:e.rotate=90,e.flip.vertical=!0;break;case 6:e.rotate=90;break;case 7:e.rotate=90,e.flip.horizontal=!0;break;case 8:e.rotate=-90}return e}(a),this.defaultImageTransforms=n(n({},this.appliedImageTransforms),{},{flip:n({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var t=e.$refs.image;t&&t.complete&&(function(t){return Boolean(t.naturalWidth)}(t)?e.onSuccessLoadImage():e.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender((function(){e.coordinates=e.moveAlgorithm(n(n({},e.getPublicProperties()),{},{positionRestrictions:At(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()}))},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var i=e.sizeRestrictions,s=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(n(n({},e.getPublicProperties()),{},{positionRestrictions:At(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,e.visibleArea.width),maxHeight:Math.min(i.maxHeight,e.visibleArea.height),minWidth:Math.max(i.minWidth,s),minHeight:Math.max(i.minHeight,s)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1}))},onManipulateImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=e.transitions,s=void 0!==i&&i,a=e.normalize,o=void 0===a||a;s&&this.enableTransitions();var r=St(n(n({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),h=r.visibleArea,c=r.coordinates;this.visibleArea=h,this.coordinates=c,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visibleArea,i=t.type,s=void 0===i?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:s})},getAspectRatio:function(t){var e,i,s=this.stencilProps,a=s.aspectRatio,n=s.minAspectRatio,o=s.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var r=this.$refs.stencil.aspectRatios();e=r.minimum,i=r.maximum}if(R(e)&&(e=R(a)?n:a),R(i)&&(i=R(a)?o:a),!t&&(R(e)||R(i))){var h=this.getStencilSize(),c=h?tt(h):null;R(e)&&(e=z(c)?c:void 0),R(i)&&(i=z(c)?c:void 0)}return{minimum:e,maximum:i}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,i=t.stencilSize,s=t.aspectRatio,st(tt(a=x(i)?i({boundaries:e,aspectRatio:s}):i),s)&&(a=gt({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:a.width,height:a.height,aspectRatio:{minimum:s.minimum,maximum:s.maximum}})),(a.width>e.width||a.height>e.height)&&(a=gt({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:a.width,height:a.height,aspectRatio:{minimum:tt(a),maximum:tt(a)}})),a;var t,e,i,s,a},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return n({},N)},flip:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.transitions,a=void 0===s||s;if(!this.transitionsActive){a&&this.enableTransitions();var o=n({},this.imageTransforms.flip),r=zt({flip:{horizontal:t?!o.horizontal:o.horizontal,vertical:e?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),h=r.visibleArea,c=r.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=h,this.coordinates=c,this.onChange(),a&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transitions,s=void 0===i||i;if(!this.transitionsActive){s&&this.enableTransitions();var a=n({},this.imageSize);this.appliedImageTransforms.rotate+=t;var o=Ct({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:a,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,h=o.coordinates,c=this.processAutoZoom("rotateImage",r,h);r=c.visibleArea,h=c.coordinates,this.visibleArea=r,this.coordinates=h,this.onChange(),s&&this.debouncedDisableTransitions()}}}},ne=D({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cropper",class:t.classes.cropper},[i("div",{ref:"stretcher",class:t.classes.stretcher}),t._v(" "),i("div",{class:t.classes.boundaries,style:t.boundariesStyle},[i(t.backgroundWrapperComponent,{tag:"component",class:t.classes.cropperWrapper,attrs:{"wheel-resize":t.settings.resizeImage.wheel,"touch-resize":t.settings.resizeImage.touch,"touch-move":t.settings.moveImage.touch,"mouse-move":t.settings.moveImage.mouse},on:{move:t.onManipulateImage,resize:t.onManipulateImage}},[i("div",{class:t.classes.background,style:t.boundariesStyle}),t._v(" "),i("div",{class:t.classes.imageWrapper},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{crossorigin:t.imageAttributes.crossOrigin,src:t.imageAttributes.src},on:{mousedown:function(t){t.preventDefault()}}})]),t._v(" "),i("div",{class:t.classes.foreground,style:t.boundariesStyle}),t._v(" "),i(t.stencilComponent,t._b({directives:[{name:"show",rawName:"v-show",value:t.imageLoaded,expression:"imageLoaded"}],ref:"stencil",tag:"component",attrs:{image:t.image,coordinates:t.coordinates,"stencil-coordinates":t.stencilCoordinates,transitions:t.transitionsOptions},on:{resize:t.onResize,"resize-end":t.onResizeEnd,move:t.onMove,"move-end":t.onMoveEnd}},"component",t.stencilProps,!1)),t._v(" "),t.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):t._e(),t._v(" "),t.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):t._e()],1)],1)])},staticRenderFns:[]},void 0,ae,void 0,!1,void 0,!1,void 0,void 0,void 0);s["default"].component("cropper",ne),s["default"].component("rectangle-stencil",Qt),s["default"].component("circle-stencil",ee),s["default"].component("simple-handler",kt),s["default"].component("simple-line",Lt)},b349:function(t,e,i){"use strict";i.r(e);var s=i("8212"),a=i("8336"),n=i("b0af"),o=i("2e4b"),r=i("169a"),h=i("23a7"),c=i("0e8f"),l=i("132d"),u=i("adda"),d=i("a722"),p=i("e449"),m=i("67b6"),g=i("43a6"),f=i("b974"),v=i("2db4"),b=i("2fa4"),w=i("b73d"),y=i("8654"),x=function(){var t=this,e=t._self._c;return e("div",[e("vue-element-loading",{attrs:{active:t.appLoading,"is-full-screen":!0,"background-color":"#FFFFFF",color:"#182444",spinner:"bar-fade-scale"}}),t.ServerError?e("ServerError"):t._e(),e(v["a"],{attrs:{color:"#ff6200",right:"",top:"",timeout:"2000"},model:{value:t.showSnackBar,callback:function(e){t.showSnackBar=e},expression:"showSnackBar"}},[e(d["a"],{attrs:{wrap:"","justify-center":""}},[e(c["a"],{staticClass:"align-self-center",attrs:{"text-left":""}},[e("span",{staticStyle:{color:"white"}},[t._v(" "+t._s(t.msg)+" ")])]),e(c["a"],{attrs:{"text-right":""}},[e(a["a"],{attrs:{small:"",ripple:!1,text:""},on:{click:function(e){t.showSnackBar=!1}}},[e(l["a"],{staticStyle:{color:"white"}},[t._v("mdi-close")])],1)],1)],1)],1),e(d["a"],{attrs:{wrap:"","justify-center":"","pa-4":""}},[e(c["a"],{attrs:{xs12:""}},[e(d["a"],{attrs:{wrap:"","justify-start":"","py-2":""}},[e(c["a"],{attrs:{xs12:"",sm3:"","align-self-center":""}},[e("span",{staticClass:"title1",style:{"font-size":"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?"20px":"md"==t.$vuetify.breakpoint.name||"lg"==t.$vuetify.breakpoint.name?"25px":"30px"}},[t._v("Houseboat Details")])])],1),e(d["a"],{attrs:{wrap:"","justify-space-around":"","pt-2":""}},[e(c["a"],{attrs:{xs12:""}},[e(n["a"],{staticClass:"pa-8",attrs:{tile:""}},[e(d["a"],{attrs:{wrap:"","justify-start":""}},[e(c["a"],{attrs:{xs12:"",sm6:""}},[e(d["a"],{attrs:{wrap:"","justify-center":""}},[e(c["a"],{attrs:{xs12:"",sm10:"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Houseboat Name")]),e(y["a"],{attrs:{dense:"",outlined:"",type:"text",rules:[t.rules.required],"hide-details":"auto"},model:{value:t.houseBoatName,callback:function(e){t.houseBoatName=e},expression:"houseBoatName"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Total Rooms")]),e(y["a"],{attrs:{dense:"",outlined:"",type:"number","hide-spin-buttons":"",rules:[t.rules.required],"hide-details":"auto"},model:{value:t.totalRooms,callback:function(e){t.totalRooms=e},expression:"totalRooms"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Location")]),e(f["a"],{attrs:{"hide-details":"auto",items:t.locationList,"menu-props":{maxHeight:"400"},outlined:"","item-text":"name","item-value":"_id","persistent-hint":"",dense:""},on:{input:function(e){return t.getsubLocation()}},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Pickup/Drop Location")]),e(f["a"],{attrs:{"hide-details":"auto",items:t.sublocationList,"menu-props":{maxHeight:"400"},outlined:"","item-text":"name","item-value":"_id","persistent-hint":"",dense:""},model:{value:t.sublocation,callback:function(e){t.sublocation=e},expression:"sublocation"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Category")]),e(f["a"],{attrs:{"hide-details":"auto",items:["Luxury","Premium","Deluxe"],"menu-props":{maxHeight:"400"},outlined:"","persistent-hint":"",dense:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Facilities")]),e(d["a"],{attrs:{wrap:""}},[e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Air condition")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.airCondition,callback:function(e){t.airCondition=e},expression:"airCondition"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Kettle")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.kettle,callback:function(e){t.kettle=e},expression:"kettle"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Parking")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.parking,callback:function(e){t.parking=e},expression:"parking"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Restroom")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.restrooms,callback:function(e){t.restrooms=e},expression:"restrooms"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Life Jacket")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.lifeJacket,callback:function(e){t.lifeJacket=e},expression:"lifeJacket"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Wi-Fi")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.wifi,callback:function(e){t.wifi=e},expression:"wifi"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Television")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.television,callback:function(e){t.television=e},expression:"television"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Swiming Pool")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.swimmingPool,callback:function(e){t.swimmingPool=e},expression:"swimmingPool"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Fire extinguisher")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.fireextinguisher,callback:function(e){t.fireextinguisher=e},expression:"fireextinguisher"}})],1),e(c["a"],{attrs:{xs6:"",md3:"","pb-2":""}},[e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Power backup")]),e(w["a"],{staticClass:"mt-0",attrs:{"hide-details":"",inset:"",color:"#F17343"},model:{value:t.powerbackup,callback:function(e){t.powerbackup=e},expression:"powerbackup"}})],1)],1)],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":""}},[e(g["a"],{staticClass:"mt-0 pt-0",attrs:{dense:"",row:"","hide-details":"auto"},model:{value:t.expiryType,callback:function(e){t.expiryType=e},expression:"expiryType"}},[e(m["a"],{attrs:{label:"License Expiry",value:"licenseExpiry"}}),e(m["a"],{attrs:{label:"Insurance Expiry",value:"insuranceExpiry"}})],1),e(p["a"],{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":t.expiryDate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.expiryDate=e},"update:return-value":function(e){t.expiryDate=e}},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(y["a"],t._g(t._b({attrs:{"background-color":"white",outlined:"",color:"#182444",readonly:"","hide-details":"",clearable:"",dense:""},model:{value:t.expiryDate,callback:function(e){t.expiryDate=e},expression:"expiryDate"}},"v-text-field",s,!1),i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[e(o["a"],{attrs:{"no-title":"",min:t.nowDate,scrollable:""},on:{change:function(e){return t.$refs.menu2.save(t.expiryDate)}},model:{value:t.expiryDate,callback:function(e){t.expiryDate=e},expression:"expiryDate"}},[e(b["a"])],1)],1)],1)],1)],1),e(c["a"],{attrs:{xs12:"",sm6:""}},[e(d["a"],{attrs:{wrap:"","justify-center":""}},[e(c["a"],{attrs:{xs12:"",sm10:"","text-left":""}},[e("span",{staticClass:"font3"},[t._v("Boat License/Insurance")]),e("span",{staticStyle:{color:"#f17343"}},[t._v("*")]),e("span",{staticStyle:{"font-family":"LexendFont","font-size":"14px","font-weight":"300",color:"grey"}},[t._v("front & back side in single file")]),e(h["a"],{ref:"fileInput2",attrs:{label:"File input",outlined:"",dense:"","hide-details":"auto"},on:{change:t.getFiles},scopedSlots:t._u([{key:"append",fn:function(){return[e(a["a"],{staticClass:"hidden-xs-only btnstly",attrs:{dense:"",small:""},on:{click:t.openFileInput2}},[e("span",{staticStyle:{color:"white"}},[t._v("Choose File")])])]},proxy:!0}]),model:{value:t.boatLicenseProof,callback:function(e){t.boatLicenseProof=e},expression:"boatLicenseProof"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"font3"},[t._v("Owner/Lease Document ")]),e("span",{staticStyle:{color:"#f17343"}},[t._v("*")]),e("span",{staticStyle:{"font-family":"LexendFont","font-size":"14px","font-weight":"300",color:"grey"}},[t._v("(front & back side in single file)")]),e(h["a"],{ref:"fileInput",attrs:{label:"File input",outlined:"",dense:"","hide-details":"auto"},on:{change:t.getFiles2},scopedSlots:t._u([{key:"append",fn:function(){return[e(a["a"],{staticClass:"hidden-xs-only btnstly",attrs:{dense:"",small:""},on:{click:t.openFileInput}},[e("span",{staticStyle:{color:"white"}},[t._v("Choose File")])])]},proxy:!0}]),model:{value:t.leaseProof,callback:function(e){t.leaseProof=e},expression:"leaseProof"}})],1),e(c["a"],{attrs:{xs12:"",sm10:"","pt-4":"","text-left":""}},[e("span",{staticClass:"title2"},[t._v("Property Image Upload")]),e(d["a"],{attrs:{wrap:"","pt-4":""}},[e(c["a"],{attrs:{xs3:"","pb-2":"","text-center":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#e8e8e8",height:"80px",width:"90px"}},[e("ImageComp",{attrs:{singleImage:t.coverImage,width:1251,height:400,componentType:"coverImage"},on:{stepper:t.winStepper}})],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Cover Image")])],1),e(c["a"],{attrs:{xs3:"","pb-2":"","text-center":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#e8e8e8",height:"80px",width:"90px"}},[e("ImageComp",{attrs:{singleImage:t.fullImage,width:700,height:700,componentType:"fullImage"},on:{stepper:t.winStepper}})],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Full view")])],1),e(c["a"],{attrs:{xs3:"","pb-2":"","text-center":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#e8e8e8",height:"80px",width:"90px"}},[e("ImageComp",{attrs:{singleImage:t.upperImage,width:700,height:700,componentType:"upperImage"},on:{stepper:t.winStepper}})],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Upper deck / reception")])],1),e(c["a"],{attrs:{xs3:"","pb-2":"","text-center":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#e8e8e8",height:"80px",width:"90px"}},[e("ImageComp",{attrs:{singleImage:t.interiorImage,width:700,height:700,componentType:"interiorImage"},on:{stepper:t.winStepper}})],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Interior Image")])],1)],1),e(d["a"],{attrs:{wrap:"","pt-2":""}},[e(c["a"],{attrs:{xs12:"",sm3:"","pb-2":"","text-left":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#ED7243",height:"80px",width:"90px"},on:{click:function(e){return t.$refs.files2.click()}}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"files2",attrs:{accept:"image/*",id:"file",type:"file"},on:{change:t.uploadImages2}}),e(d["a"],{attrs:{wrap:"","fill-height":""}},[e(c["a"],{attrs:{xs12:"","align-self-center":"","text-center":""}},[e(l["a"],{attrs:{color:"white"}},[t._v("mdi-plus-circle-outline")])],1)],1)],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Rooms")])],1),t._l(t.imageArray2,(function(i,a){return e(c["a"],{key:a,attrs:{xs12:"",sm3:""}},[e(u["a"],{attrs:{src:i,height:"80px",width:"90px",contain:""}},[e(d["a"],{attrs:{wrap:""}},[e(c["a"],{attrs:{"text-right":"","pa-0":""}},[e(s["a"],{attrs:{color:"#FF3434",size:"15"}},[e(l["a"],{attrs:{color:"#FFF",small:""},on:{click:function(e){return t.removeImageArray2(a)}}},[t._v(" mdi-close ")])],1)],1)],1)],1)],1)}))],2),e(d["a"],{attrs:{wrap:"","pt-2":""}},[e(c["a"],{attrs:{xs12:"",sm3:"","pb-2":"","text-left":""}},[e(n["a"],{staticClass:"mr-4",attrs:{tile:"",elevation:"0",color:"#ED7243",height:"80px",width:"90px"},on:{click:function(e){return t.$refs.files.click()}}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"files",attrs:{accept:"image/*",id:"file",type:"file"},on:{change:t.uploadImages}}),e(d["a"],{attrs:{wrap:"","fill-height":""}},[e(c["a"],{attrs:{xs12:"","align-self-center":"","text-center":""}},[e(l["a"],{attrs:{color:"white"}},[t._v("mdi-plus-circle-outline")])],1)],1)],1),e("span",{staticClass:"title3",staticStyle:{color:"#505050"}},[t._v("Additional Images")])],1),t._l(t.imageArray,(function(i,a){return e(c["a"],{key:a,attrs:{xs12:"",sm3:""}},[e(u["a"],{attrs:{src:i,height:"80px",width:"90px",contain:""}},[e(d["a"],{attrs:{wrap:""}},[e(c["a"],{attrs:{"text-right":"","pa-0":""}},[e(s["a"],{attrs:{color:"#FF3434",size:"15"}},[e(l["a"],{attrs:{color:"#FFF",small:""},on:{click:function(e){return t.removeImageArray(a)}}},[t._v(" mdi-close ")])],1)],1)],1)],1)],1)}))],2)],1)],1),e(d["a"],{attrs:{wrap:"","justify-end":""}},[e(c["a"],{attrs:{xs12:"",sm2:""}},[e(a["a"],{staticClass:"btnstly",staticStyle:{cursor:"pointer"},attrs:{block:""},on:{click:function(e){return t.validation()}}},[e("span",{staticStyle:{"font-family":"LexendFont","text-transform":"none"}},[t._v("Save")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),e(r["a"],{attrs:{persistent:"",width:"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?"100vw":"md"==t.$vuetify.breakpoint.name?"80vw":"lg"==t.$vuetify.breakpoint.name?"50vw":"40vw"},model:{value:t.cropImageDialog,callback:function(e){t.cropImageDialog=e},expression:"cropImageDialog"}},[e(n["a"],[e(d["a"],{attrs:{wrap:"","justify-center":"","pa-2":""}},[e(c["a"],{attrs:{xs12:""}},[e("ImageCropper",{key:t.currentImage,attrs:{image:t.currentImage,width:700,height:700},on:{stepper:t.imageCropper}})],1)],1)],1)],1),e(r["a"],{attrs:{persistent:"",width:"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?"100vw":"md"==t.$vuetify.breakpoint.name?"80vw":"lg"==t.$vuetify.breakpoint.name?"50vw":"40vw"},model:{value:t.cropImageDialog2,callback:function(e){t.cropImageDialog2=e},expression:"cropImageDialog2"}},[e(n["a"],[e(d["a"],{attrs:{wrap:"","justify-center":"","pa-2":""}},[e(c["a"],{attrs:{xs12:""}},[e("ImageCropper2",{key:t.currentImage2,attrs:{image:t.currentImage2,width:700,height:700},on:{stepper:t.imageCropper2}})],1)],1)],1)],1)],1)},R=[],A=(i("88a7"),i("271a"),i("5494"),i("14d9"),i("cee4")),S=i("6e6c"),C=i("87fe"),z=i("ba4a"),I={components:{ImageComp:S["a"],ImageCropper:C["a"],ImageCropper2:z["a"]},data(){return{showSnackBar:!1,timeout:2e3,ServerError:!1,appLoading:!1,data:[],msg:null,page:1,limit:20,nowDate:(new Date).toISOString().slice(0,10),houseBoatName:"",category:"",location:"",locationList:[],sublocation:"",sublocationList:[],airCondition:!1,kettle:!1,parking:!1,restrooms:!1,lifeJacket:!1,wifi:!1,television:!1,fireextinguisher:!1,powerbackup:!1,swimmingPool:!1,addionalRules:"",totalRooms:"",houseBoatType:"",expiryType:"",expiryDate:"",imageId:"",fullImage:"",upperImage:"",interiorImage:"",coverImage:"",boatLicenseProof:"",attachments:null,leaseProof:"",attachments2:null,formData:new FormData,imageArray:[],imageFiles:[],selectedFiles:null,currentImage:"",cropImageDialog:!1,imageArray2:[],currentImage2:"",cropImageDialog2:!1,ImgselectedFiles2:"",roomImage:[],menu2:!1,rules:{required:t=>!!t||"Required.",counter:t=>t.length<=20||"Max 20 characters",email:t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}},pinRules:[t=>!!t||"PIN is required",t=>t&&6===t.length||"PIN must be 6 digits"]}},mounted(){this.getData()},methods:{openFileInput(){this.$refs.fileInput.$el.querySelector("input").click()},openFileInput2(){this.$refs.fileInput2.$el.querySelector("input").click()},winStepper(t){"fullImage"==t.type&&(this.fullImage=t.selectedFiles,console.log("fullImage is",this.fullImage)),"coverImage"==t.type&&(this.coverImage=t.selectedFiles,console.log("coverImage is",this.coverImage)),"upperImage"==t.type&&(this.upperImage=t.selectedFiles,console.log("upperImage is",this.upperImage)),"interiorImage"==t.type&&(this.interiorImage=t.selectedFiles,console.log("interiorImage is",this.interiorImage))},uploadImages2(t){if(!(this.imageArray2.length<4))return this.msg="Maximum image limit exceeded!",void(this.showSnackBar=!0);this.currentImage2=URL.createObjectURL(t.target.files[0]),this.cropImageDialog2=!0},removeImageArray2(t){var e=this.formData.getAll("roomImage");e.splice(t,1),this.formData.delete("roomImage"),e.forEach((t,e)=>{this.formData.append("roomImage",t,"roomImage"+(e+1))}),this.imageArray2.splice(t,1)},imageCropper2(t){this.cropImageDialog2=t.dialog,t.image&&this.collectImages2(t.image)},collectImages2(t){this.ImgselectedFiles2=t,this.formData.append("roomImage",this.ImgselectedFiles2);var e=new Image;e.src=window.URL.createObjectURL(t),e.onload=()=>{const e=URL.createObjectURL(t);this.imageArray2.push(e),this.imageArray2&&(this.roomImage=this.imageArray2[0])},console.log("ImgselectedFiles==",this.ImgselectedFiles2)},uploadImages(t){if(!(this.imageArray.length<4))return this.msg="Maximum image limit exceeded!",void(this.showSnackBar=!0);this.currentImage=URL.createObjectURL(t.target.files[0]),this.cropImageDialog=!0},removeImageArray(t){var e=this.formData.getAll("propertyImages");e.splice(t,1),this.formData.delete("propertyImages"),e.forEach((t,e)=>{this.formData.append("propertyImages",t,"image"+(e+1))}),this.imageArray.splice(t,1)},imageCropper(t){this.cropImageDialog=t.dialog,t.image&&this.collectImages(t.image)},collectImages(t){this.ImgselectedFiles=t,this.formData.append("propertyImages",this.ImgselectedFiles);var e=new Image;e.src=window.URL.createObjectURL(t),e.onload=()=>{const e=URL.createObjectURL(t);this.imageArray.push(e),this.imageArray&&(this.image=this.imageArray[0])},console.log("ImgselectedFiles==",this.ImgselectedFiles)},getFiles(){var t=this.boatLicenseProof;console.log("img=",this.boatLicenseProof),this.boatLicenseProof&&(this.msg=null,this.attachments=t,console.log("attachments=",this.attachments))},getFiles2(){var t=this.leaseProof;console.log("img=",this.leaseProof),this.leaseProof&&(this.msg=null,this.attachments2=t,console.log("attachments2=",this.attachments2))},ImageUpload(t){if(this.imageArray.length>0)for(var e=0;e<this.imageFiles.length;e++)this.formData.append("propertyImages",this.imageFiles[e]);this.formData.append("id",t),this.formData.append("coverImage",this.coverImage),this.formData.append("fullImage",this.fullImage),this.formData.append("upperImage",this.upperImage),this.formData.append("interiorImage",this.interiorImage),this.formData.append("boatLicenseProof",this.attachments),this.formData.append("leaseProof",this.attachments2),console.log("formData",this.formData),this.appLoading=!0,Object(A["a"])({method:"post",url:"/houseboat/proofupload",headers:{"Content-Type":"multipart/form-data",token:localStorage.getItem("token")},data:this.formData}).then(t=>{this.appLoading=!1,1==t.data.status?(this.formData=new FormData,this.fullImage="",this.coverImage="",this.upperImage="",this.interiorImage="",this.roomImage="",this.attachments="",this.attachments2="",this.imageFiles=[],this.imageArray=[],this.msg=t.data.msg,this.showSnackBar=!0,this.$router.push("/Houseboats")):alert("failed to update cover image")})},validation(){return this.category?this.houseBoatName?this.totalRooms?this.location?this.sublocation?this.expiryType?this.expiryDate?this.attachments?this.attachments2?this.coverImage?this.fullImage?void this.addBoat():(this.msg="Please upload full image",void(this.showSnackBar=!0)):(this.msg="Please upload cover image",void(this.showSnackBar=!0)):(this.msg="Please upload lease proof",void(this.showSnackBar=!0)):(this.msg="Please upload boat licence proof",void(this.showSnackBar=!0)):(this.msg="Please enter expiry date",void(this.showSnackBar=!0)):(this.msg="Please choose expiry type",void(this.showSnackBar=!0)):(this.msg="Please enter sub-location",void(this.showSnackBar=!0)):(this.msg="Please enter location",void(this.showSnackBar=!0)):(this.msg="Please enter total rooms",void(this.showSnackBar=!0)):(this.msg="Please enter house boat name",void(this.showSnackBar=!0)):(this.msg="Please choose boat category",void(this.showSnackBar=!0))},addBoat(){this.appLoading=!0;var t={};t.airCondition=this.airCondition,t.kettle=this.kettle,t.parking=this.parking,t.restrooms=this.restrooms,t.lifeJacket=this.lifeJacket,t.wifi=this.wifi,t.television=this.television,t.fireextinguisher=this.fireextinguisher,t.powerbackup=this.powerbackup,t.swimmingPool=this.swimmingPool,Object(A["a"])({method:"POST",url:"/houseboat/add",data:{houseBoatName:this.houseBoatName,totalRooms:this.totalRooms,location:this.location,startingLocation:this.sublocation,category:this.category,expiryType:this.expiryType,expiryDate:this.expiryDate,facilities:t},headers:{token:localStorage.getItem("token")}}).then(t=>{this.appLoading=!1,1==t.data.status?(this.msg=t.data.msg,this.showSnackBar=!0,this.imageId=t.data.id,console.log("id=",this.imageId),this.imageId?(console.log("sdfghj"),this.ImageUpload(this.imageId)):this.$router.push("/Houseboats")):(this.msg=t.data.msg,this.showSnackBar=!0)})},getData(){this.appLoading=!0,Object(A["a"])({url:"/location/list",method:"GET",headers:{token:localStorage.getItem("token")},params:{page:this.page,limit:50}}).then(t=>{this.appLoading=!1,this.locationList=t.data.data,this.Pagelength=Math.ceil(t.data.count/this.limit)}).catch(t=>{console.log(t)})},getsubLocation(){this.appLoading=!0,Object(A["a"])({url:"/location/sub/list",method:"GET",headers:{token:localStorage.getItem("token")},params:{page:this.page,limit:50,locationId:this.location}}).then(t=>{this.appLoading=!1,this.sublocationList=t.data.data,this.Pagelength=Math.ceil(t.data.count/this.limit)}).catch(t=>{console.log(t)})}}},E=I,M=(i("77ee"),i("0c7c")),T=Object(M["a"])(E,x,R,!1,null,"56336c34",null);e["default"]=T.exports},b73d:function(t,e,i){"use strict";i("ec29"),i("9d01");var s=i("fe09"),a=i("c37a"),n=i("c3f0"),o=i("0789"),r=i("490a"),h=i("80d2");e["a"]=s["a"].extend({name:"v-switch",directives:{Touch:n["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...e}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(o["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(r["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===h["t"].left&&this.isActive||t.keyCode===h["t"].right&&!this.isActive)&&this.onChange()}}})},b7ef:function(t,e,i){"use strict";var s=i("23e7"),a=i("da84"),n=i("d066"),o=i("5c6c"),r=i("9bf2").f,h=i("1a2d"),c=i("19aa"),l=i("7156"),u=i("e391"),d=i("cf98"),p=i("0d26"),m=i("83ab"),g=i("c430"),f="DOMException",v=n("Error"),b=n(f),w=function(){c(this,y);var t=arguments.length,e=u(t<1?void 0:arguments[0]),i=u(t<2?void 0:arguments[1],"Error"),s=new b(e,i),a=v(e);return a.name=f,r(s,"stack",o(1,p(a.stack,1))),l(s,this,w),s},y=w.prototype=b.prototype,x="stack"in v(f),R="stack"in new b(1,2),A=b&&m&&Object.getOwnPropertyDescriptor(a,f),S=!!A&&!(A.writable&&A.configurable),C=x&&!S&&!R;s({global:!0,constructor:!0,forced:g||C},{DOMException:C?w:b});var z=n(f),I=z.prototype;if(I.constructor!==z)for(var E in g||r(I,"constructor",o(1,z)),d)if(h(d,E)){var M=d[E],T=M.s;h(z,T)||r(z,T,o(6,M.c))}},ba4a:function(t,e,i){"use strict";var s=i("8336"),a=i("b0af"),n=i("0e8f"),o=i("a722"),r=function(){var t=this,e=t._self._c;return e("div",[e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","py-2":""}},[e("span",{staticClass:"textField1"},[t._v("Crop Image")])])],1),e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","py-2":"","align-self-center":""}},[e(a["a"],[e(o["a"],{attrs:{wrap:"","justify-center":""}},[e(n["a"],{attrs:{xs12:"","text-center":"","align-self-center":""}},[e("Cropper",{ref:"cropper",staticClass:"example-cropper",attrs:{"stencil-props":{aspectRatio:t.cropwidth/t.cropheight},src:t.image}})],1)],1),e(o["a"],{attrs:{wrap:"","justify-center":"","py-2":""}},[e(n["a"],{attrs:{xs6:"",xl3:"","px-2":""}},[e(s["a"],{attrs:{block:"",dark:"",small:"",ripple:!1,color:"#68D389"},on:{click:t.closeDialog}},[e("span",[t._v(" Cancel ")])])],1),e(n["a"],{attrs:{xs6:"",xl3:"","px-2":""}},[e(s["a"],{attrs:{block:"",dark:"",small:"",ripple:!1,color:"#FF4444"},on:{click:t.cropImage}},[e("span",[t._v(" Crop ")])])],1)],1)],1)],1)],1)],1)},h=[],c=(i("b7ef"),i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("a2c1")),l=(i("f7aa"),{props:["image","cropwidth","cropheight","imageType"],components:{Cropper:c["a"]},data(){return{resultImage:null,msg:null}},methods:{closeDialog(){this.$emit("stepper",{dialog:!1,image:null})},cropImage(){var t=this.dataURLtoFile(this.$refs.cropper.getResult().canvas.toDataURL("image/jpeg",.3),"myimage.jpg");this.$emit("stepper",{dialog:!1,image:t,imageType:"roomImage"})},dataURLtoFile(t,e){var i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=atob(i[1]),n=a.length,o=new Uint8Array(n);while(n--)o[n]=a.charCodeAt(n);return new File([o],e,{type:s})}}}),u=l,d=i("0c7c"),p=Object(d["a"])(u,r,h,!1,null,null,null);e["a"]=p.exports},bcbf:function(t,e,i){var s=i("f5df");t.exports=function(t){var e=s(t);return"BigInt64Array"==e||"BigUint64Array"==e}},cf98:function(t,e){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},d429:function(t,e,i){var s=i("07fa"),a=i("5926"),n=RangeError;t.exports=function(t,e,i,o){var r=s(t),h=a(i),c=h<0?r+h:h;if(c>=r||c<0)throw n("Incorrect index");for(var l=new e(r),u=0;u<r;u++)l[u]=u===c?o:t[u];return l}},d6d6:function(t,e){var i=TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},df7e:function(t,e,i){var s=i("07fa");t.exports=function(t,e){for(var i=s(t),a=new e(i),n=0;n<i;n++)a[n]=t[i-n-1];return a}},dfb9:function(t,e,i){var s=i("07fa");t.exports=function(t,e){var i=0,a=s(e),n=new t(a);while(a>i)n[i]=e[i++];return n}},e163:function(t,e,i){var s=i("1a2d"),a=i("1626"),n=i("7b0b"),o=i("f772"),r=i("e177"),h=o("IE_PROTO"),c=Object,l=c.prototype;t.exports=r?c.getPrototypeOf:function(t){var e=n(t);if(s(e,h))return e[h];var i=e.constructor;return a(i)&&e instanceof i?i.prototype:e instanceof c?l:null}},e177:function(t,e,i){var s=i("d039");t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},ebb5:function(t,e,i){"use strict";var s,a,n,o=i("4b11"),r=i("83ab"),h=i("da84"),c=i("1626"),l=i("861d"),u=i("1a2d"),d=i("f5df"),p=i("0d51"),m=i("9112"),g=i("cb2d"),f=i("edd0"),v=i("3a9b"),b=i("e163"),w=i("d2bb"),y=i("b622"),x=i("90e3"),R=i("69f3"),A=R.enforce,S=R.get,C=h.Int8Array,z=C&&C.prototype,I=h.Uint8ClampedArray,E=I&&I.prototype,M=C&&b(C),T=z&&b(z),k=Object.prototype,_=h.TypeError,D=y("toStringTag"),L=x("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",$=o&&!!w&&"Opera"!==d(h.opera),F=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||u(j,e)||u(P,e)},W=function(t){var e=b(t);if(l(e)){var i=S(e);return i&&u(i,O)?i[O]:W(e)}},H=function(t){if(!l(t))return!1;var e=d(t);return u(j,e)||u(P,e)},U=function(t){if(H(t))return t;throw _("Target is not a typed array")},N=function(t){if(c(t)&&(!w||v(M,t)))return t;throw _(p(t)+" is not a typed array constructor")},V=function(t,e,i,s){if(r){if(i)for(var a in j){var n=h[a];if(n&&u(n.prototype,t))try{delete n.prototype[t]}catch(o){try{n.prototype[t]=e}catch(c){}}}T[t]&&!i||g(T,t,i?e:$&&z[t]||e,s)}},Y=function(t,e,i){var s,a;if(r){if(w){if(i)for(s in j)if(a=h[s],a&&u(a,t))try{delete a[t]}catch(n){}if(M[t]&&!i)return;try{return g(M,t,i?e:$&&M[t]||e)}catch(n){}}for(s in j)a=h[s],!a||a[t]&&!i||g(a,t,e)}};for(s in j)a=h[s],n=a&&a.prototype,n?A(n)[O]=a:$=!1;for(s in P)a=h[s],n=a&&a.prototype,n&&(A(n)[O]=a);if((!$||!c(M)||M===Function.prototype)&&(M=function(){throw _("Incorrect invocation")},$))for(s in j)h[s]&&w(h[s],M);if((!$||!T||T===k)&&(T=M.prototype,$))for(s in j)h[s]&&w(h[s].prototype,T);if($&&b(E)!==T&&w(E,T),r&&!u(T,D))for(s in F=!0,f(T,D,{configurable:!0,get:function(){return l(this)?this[L]:void 0}}),j)h[s]&&m(h[s],L,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:$,TYPED_ARRAY_TAG:F&&L,aTypedArray:U,aTypedArrayConstructor:N,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:W,isView:B,isTypedArray:H,TypedArray:M,TypedArrayPrototype:T}},ec29:function(t,e,i){},f495:function(t,e,i){var s=i("c04e"),a=TypeError;t.exports=function(t){var e=s(t,"number");if("number"==typeof e)throw a("Can't convert number to bigint");return BigInt(e)}},f7aa:function(t,e,i){},f8cd:function(t,e,i){var s=i("5926"),a=RangeError;t.exports=function(t){var e=s(t);if(e<0)throw a("The argument can't be less than 0");return e}},fe09:function(t,e,i){"use strict";i.d(e,"b",(function(){return r}));i("14d9");var s=i("c37a"),a=i("5311"),n=i("8547"),o=i("58df");function r(t){t.preventDefault()}e["a"]=Object(o["a"])(s["a"],a["a"],n["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}})}}]);
//# sourceMappingURL=chunk-183b456e.7d5295c6.js.map